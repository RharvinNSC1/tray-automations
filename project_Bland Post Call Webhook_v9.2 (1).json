 {"tray_export_version":4,"export_type":"project","workflows":[{"id":"59bc80e3-7283-43cb-8443-54544833ee98","created":"2025-09-22T20:00:40.265476Z","workspace_id":"201aa818-49bc-4547-a03b-91733c39ef0d","project_id":"70d2d126-9bfb-43ce-9fcc-2bdf8275726b","group":"ae0a1ecd-939c-4d8c-8d47-ffff99f59733","creator":"569b2891-7490-42d8-9483-825fbd81c161","version":{"id":"275013fc-35d9-41cd-8031-5cee63c97e36","created":"2025-10-06T14:30:08.321820Z"},"title":"Live Bland Webhook Alert","enabled":true,"tags":[],"settings":{"config":{"0":{"started_at":"{$.steps.object-helpers-3.result[\"started_at\"]}","call_id":"{$.steps.object-helpers-3.result[\"call_id\"]}","inbound":"{$.steps.object-helpers-3.result[\"inbound\"]}"},"BLAND_CALL_ERRORS_SHEET_ID":"1uldeEBhKAGOa9SqfJd7nCd9w64eLIp9ZERaFXHBz--Q","BLAND_CALL_ERRORS_SHEET_NAME":"Sheet1","CCM_INTAKE_G_SHEET_ID":"1-aio1zAzCrl4sehQwsW0b3D1TH1-h-1EwaMMkjFExdA","CCM_INTAKE_G_SHEET_NAME":"CCM Intake Tray Webhook Testing","environment":"production","RPM_ADHERENCE_G_SHEET_ID":"16EIFo7A9GTW32giEmfKWohibvxML02ywccyxFeFMFoo","RPM_ADHERENCE_G_SHEET_NAME":"RPM Adherence Call Data Tray Testing","Sentry_Bland_Post_Call_Webhook":"https://1799e7d9055a56f7f2b79fabb9986149@o4509469414522880.ingest.us.sentry.io/4509922719301632","SUPABASE_URL":"https://jrfmbmlalrspqlxzfmrj.supabase.co","Use_Domo_Mock":true,"Verbose":false,"CCM_OUTBOUND_DATA_REPORT_GSHEET_ID":"1niqx4ScLKOIUy1WW9JAiPwkPKZ1stSIxeSzJIxNx-JQ","RPM_RAPPORT_G_SHEET_ID":"1oXgt-pQTTSt33MLt9arcKgmbvPKpWenphwO3FIjeOBo","RPM_RAPPORT_G_SHEET_NAME":"RPM Rapport Post Call Data Test","Test_Bland_Token":"1E53A5BB-A77A-450E-B175-58C50BAB0BE6","CCM_OUTBOUND_CLINICAL_REPORT_GSHEET_ID":"1xU8ZQk4lXUPfk7bbmW6TvPC3k6qOUZi4kaTi2ax1NHw","SUPABASE_API_URL":"https://jrfmbmlalrspqlxzfmrj.supabase.co"},"alerting_workflow_id":"a9ab4bcf-21e1-44d8-a58b-84c5d9e3f2a0","input_schema":{},"output_schema":{}},"steps_structure":[{"name":"trigger","type":"normal","content":{}},{"name":"boolean-condition-1","type":"branch","content":{"true":[{"name":"nsight-health-sentry-logging-3","type":"normal","content":{}}],"false":[{"name":"nsight-health-sentry-logging-1","type":"normal","content":{}}]}}],"steps":{"boolean-condition-1":{"title":"Boolean condition","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"jsonpath","value":"$.config.Verbose"},"comparison_type":{"type":"string","value":"==="},"value2":{"type":"boolean","value":true},"is_case_sensitive":{"value":false,"type":"boolean"}}}]},"strictness":{"type":"string","value":"All"}}},"nsight-health-sentry-logging-1":{"title":"Production Error Logging","connector":{"name":"nsight-health-sentry-logging","version":"1.0"},"operation":"raw_http_request","output_schema":{},"error_handling":{},"authentication":{"group":"94a45d67-b98d-46aa-93ba-388eeaf9a95c","title":"Sentry - Bland Webhook","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3f6418f3-93da-436e-a5c4-10aa62f8975a.png"},"scopes":[],"service_name":"3KVKjoupDpbW56w_sentry-logging","service_version":1},"properties":{"method":{"type":"string","value":"POST"},"url":{"type":"object","value":{"fullUrl":{"type":"string","value":"https://o4509469414522880.ingest.us.sentry.io/api/4509922719301632/store/?sentry_key=1799e7d9055a56f7f2b79fabb9986149"}}},"headers":{"type":"object","value":{"Content-Type":{"type":"string","value":"application/json"}}},"body":{"type":"object","value":{"raw":{"type":"object","value":{"message":{"type":"string","value":"Bland Post Call Webhook failed"},"level":{"type":"string","value":"error"},"environment":{"type":"string","value":"production"},"release":{"type":"string","value":"sentry-connector@1.0.0"},"tags":{"type":"object","value":{"integration":{"type":"string","value":"bland-post-call-webhook"},"boundary":{"type":"string","value":"voice-ai"},"stage":{"type":"string","value":"prod"},"error_code":{"type":"string","value":"HTTP_429"},"retryable":{"type":"string","value":"true"},"tenant":{"type":"string","value":"nsight"}}},"extra":{"type":"object","value":{"workflow_title":{"type":"jsonpath","value":"$.steps.trigger.origin.workflow_title"},"step_name":{"type":"jsonpath","value":"$.steps.trigger.origin.step_name"},"connector":{"type":"jsonpath","value":"$.steps.trigger.origin.connector"},"timestamp":{"type":"jsonpath","value":"$.steps.trigger.error.created"}}},"fingerprint":{"type":"array","value":[{"type":"string","value":"bland-post-call-webhook"},{"type":"string","value":"HTTP_429"}]}}}}}}},"nsight-health-sentry-logging-3":{"title":"Verbose Error Logging","connector":{"name":"nsight-health-sentry-logging","version":"1.0"},"operation":"raw_http_request","output_schema":{},"error_handling":{},"authentication":{"group":"94a45d67-b98d-46aa-93ba-388eeaf9a95c","title":"Sentry - Bland Webhook","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3f6418f3-93da-436e-a5c4-10aa62f8975a.png"},"scopes":[],"service_name":"3KVKjoupDpbW56w_sentry-logging","service_version":1},"properties":{"method":{"type":"string","value":"POST"},"url":{"type":"object","value":{"fullUrl":{"type":"string","value":"https://o4509469414522880.ingest.us.sentry.io/api/4509922719301632/store/?sentry_key=1799e7d9055a56f7f2b79fabb9986149"}}},"headers":{"type":"object","value":{"Content-Type":{"type":"string","value":"application/json"}}},"body":{"type":"object","value":{"raw":{"type":"object","value":{"message":{"type":"string","value":"Bland Post Call Webhook failed"},"level":{"type":"string","value":"error"},"environment":{"type":"string","value":"development"},"release":{"type":"string","value":"sentry-connector@1.0.0"},"tags":{"type":"object","value":{"integration":{"type":"string","value":"bland-post-call-webhook"},"boundary":{"type":"string","value":"voice-ai"},"stage":{"type":"string","value":"dev"},"error_code":{"type":"string","value":"HTTP_429"},"retryable":{"type":"string","value":"true"},"tenant":{"type":"string","value":"nsight"}}},"extra":{"type":"object","value":{"workflow_uuid":{"type":"jsonpath","value":"$.steps.trigger.origin.workflow_uuid"},"workflow_url":{"type":"jsonpath","value":"$.steps.trigger.origin.workflow_url"},"workflow_title":{"type":"jsonpath","value":"$.steps.trigger.origin.workflow_title"},"step_name":{"type":"jsonpath","value":"$.steps.trigger.origin.step_name"},"step_log_url":{"type":"jsonpath","value":"$.steps.trigger.origin.step_log_url"},"connector":{"type":"jsonpath","value":"$.steps.trigger.origin.connector"},"timestamp":{"type":"jsonpath","value":"$.steps.trigger.error.created"}}},"fingerprint":{"type":"array","value":[{"type":"string","value":"bland-post-call-webhook"},{"type":"string","value":"HTTP_429"}]}}}}}}},"trigger":{"title":"Alert","connector":{"name":"alerting-trigger","version":"1.1"},"operation":"trigger","output_schema":{},"error_handling":{},"properties":{}}},"legacy_error_handling":false,"dependencies":[{"id":"a9ab4bcf-21e1-44d8-a58b-84c5d9e3f2a0","name":"Global Sentry Logging"}]},{"id":"6f23a985-89b1-45e9-8354-a4a860f670ee","created":"2025-11-06T16:10:50.074906Z","workspace_id":"201aa818-49bc-4547-a03b-91733c39ef0d","project_id":"70d2d126-9bfb-43ce-9fcc-2bdf8275726b","group":"5333607c-6597-4590-8ee5-b1a61904864a","creator":"569b2891-7490-42d8-9483-825fbd81c161","version":{"id":"a632f481-ab77-44a0-adb3-e09ea4baf2bc","created":"2025-11-06T23:46:32.218813Z"},"title":"(TESTING) Bland Post Call Webhook - Webhook","enabled":false,"tags":[],"settings":{"config":{"0":{"started_at":"{$.steps.object-helpers-3.result[\"started_at\"]}","call_id":"{$.steps.object-helpers-3.result[\"call_id\"]}","inbound":"{$.steps.object-helpers-3.result[\"inbound\"]}"},"BLAND_CALL_ERRORS_SHEET_ID":"1uldeEBhKAGOa9SqfJd7nCd9w64eLIp9ZERaFXHBz--Q","BLAND_CALL_ERRORS_SHEET_NAME":"Sheet1","CCM_INTAKE_G_SHEET_ID":"1-aio1zAzCrl4sehQwsW0b3D1TH1-h-1EwaMMkjFExdA","CCM_INTAKE_G_SHEET_NAME":"CCM Intake Tray Webhook Testing","environment":"production","RPM_ADHERENCE_G_SHEET_ID":"16EIFo7A9GTW32giEmfKWohibvxML02ywccyxFeFMFoo","RPM_ADHERENCE_G_SHEET_NAME":"RPM Adherence Call Data Tray Testing","Sentry_Bland_Post_Call_Webhook":"https://1799e7d9055a56f7f2b79fabb9986149@o4509469414522880.ingest.us.sentry.io/4509922719301632","SUPABASE_URL":"https://jrfmbmlalrspqlxzfmrj.supabase.co","Use_Domo_Mock":true,"Verbose":false,"CCM_OUTBOUND_DATA_REPORT_GSHEET_ID":"1niqx4ScLKOIUy1WW9JAiPwkPKZ1stSIxeSzJIxNx-JQ","RPM_RAPPORT_G_SHEET_ID":"1oXgt-pQTTSt33MLt9arcKgmbvPKpWenphwO3FIjeOBo","RPM_RAPPORT_G_SHEET_NAME":"RPM Rapport Post Call Data Test","Test_Bland_Token":"1E53A5BB-A77A-450E-B175-58C50BAB0BE6","CCM_OUTBOUND_CLINICAL_REPORT_GSHEET_ID":"1xU8ZQk4lXUPfk7bbmW6TvPC3k6qOUZi4kaTi2ax1NHw","SUPABASE_API_URL":"https://jrfmbmlalrspqlxzfmrj.supabase.co"},"alerting_workflow_id":"59bc80e3-7283-43cb-8443-54544833ee98","input_schema":{},"output_schema":{"type":"object","properties":{"ok":{"type":"string","title":"response","default":"true"}},"additionalProperties":false,"required":[],"advanced":[]}},"steps_structure":[{"name":"trigger","type":"normal","content":{}},{"name":"script-3","type":"normal","content":{}},{"name":"boolean-condition-1","type":"branch","content":{"true":[{"name":"storage-5","type":"normal","content":{}},{"name":"storage-1","type":"normal","content":{}},{"name":"storage-2","type":"normal","content":{}},{"name":"storage-3","type":"normal","content":{}},{"name":"storage-4","type":"normal","content":{}},{"name":"storage-6","type":"normal","content":{}},{"name":"boolean-condition-9","type":"branch","content":{"true":[{"name":"branch-2","type":"branch","content":{"__default__":[],"branch1":[{"name":"date-time-helpers-1","type":"normal","content":{}},{"name":"postgresql-3","type":"normal","content":{}},{"name":"sheets-3","type":"normal","content":{}},{"name":"terminate-1","type":"normal","content":{}}],"branch2":[{"name":"date-time-helpers-2","type":"normal","content":{}},{"name":"postgresql-5","type":"normal","content":{}},{"name":"sheets-13","type":"normal","content":{}},{"name":"terminate-2","type":"normal","content":{}}]}}],"false":[{"name":"boolean-condition-10","type":"branch","content":{"true":[{"name":"postgresql-4","type":"normal","content":{}},{"name":"terminate-4","type":"normal","content":{}}],"false":[]}}]}},{"name":"text-helpers-1","type":"normal","content":{}},{"name":"http-client-1","type":"branch","content":{"error":[{"name":"object-helpers-2","type":"normal","content":{}},{"name":"boolean-condition-4","type":"branch","content":{"true":[{"name":"http-client-2","type":"normal","content":{}}],"false":[{"name":"terminate-3","type":"normal","content":{}}]}}],"success":[]}},{"name":"text-helpers-2","type":"normal","content":{}},{"name":"http-client-3","type":"normal","content":{}},{"name":"file-helpers-3","type":"normal","content":{}},{"name":"text-helpers-3","type":"normal","content":{}},{"name":"http-client-5","type":"normal","content":{}},{"name":"script-2","type":"normal","content":{}},{"name":"postgresql-2","type":"normal","content":{}},{"name":"date-time-helpers-3","type":"normal","content":{}},{"name":"branch-1","type":"branch","content":{"__default__":[],"branch1":[{"name":"script-8","type":"normal","content":{}},{"name":"script-9","type":"normal","content":{}},{"name":"sheets-19","type":"normal","content":{}},{"name":"sheets-16","type":"normal","content":{}}],"branch2":[{"name":"boolean-condition-6","type":"branch","content":{"true":[{"name":"sheets-1","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-2","type":"branch","content":{"true":[{"name":"sheets-7","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-7","type":"branch","content":{"true":[{"name":"sheets-8","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-8","type":"branch","content":{"true":[{"name":"sheets-9","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-5","type":"branch","content":{"true":[{"name":"sheets-10","type":"normal","content":{}}],"false":[]}}],"branch3":[{"name":"boolean-condition-11","type":"branch","content":{"true":[{"name":"sheets-4","type":"normal","content":{}}],"false":[]}},{"name":"list-helpers-1","type":"normal","content":{}},{"name":"boolean-condition-12","type":"branch","content":{"true":[{"name":"sheets-5","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-13","type":"branch","content":{"true":[{"name":"sheets-6","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-14","type":"branch","content":{"true":[{"name":"sheets-11","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-15","type":"branch","content":{"true":[{"name":"sheets-12","type":"normal","content":{}}],"false":[]}}],"branch4":[{"name":"script-6","type":"normal","content":{}},{"name":"script-7","type":"normal","content":{}},{"name":"sheets-18","type":"normal","content":{}}],"branch5":[{"name":"script-10","type":"normal","content":{}},{"name":"boolean-condition-3","type":"branch","content":{"true":[],"false":[{"name":"sheets-15","type":"normal","content":{}}]}}],"branch6":[{"name":"script-1","type":"normal","content":{}},{"name":"script-4","type":"normal","content":{}},{"name":"script-5","type":"normal","content":{}},{"name":"sheets-14","type":"normal","content":{}},{"name":"sheets-17","type":"normal","content":{}}]}}],"false":[{"name":"terminate-5","type":"normal","content":{}}]}}],"steps":{"boolean-condition-1":{"title":"Boolean condition","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"comparison_type":{"type":"string","value":"==="},"value2":{"type":"boolean","value":true},"value1":{"type":"jsonpath","value":"$.steps.script-3.result.valid"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-10":{"title":"Call Not Completed","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"jsonpath","value":"$.steps.trigger.body.status"},"comparison_type":{"type":"string","value":"!=="},"value2":{"type":"string","value":"completed"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-11":{"title":"If Successful Readings","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.pathway_tags}"},"comparison_type":{"type":"string","value":"contains"},"value2":{"type":"string","value":"Success"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-12":{"title":"Device Issues (Unresolved)","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"jsonpath","value":"$.steps.list-helpers-1.result.value","fallback":{"type":"boolean","value":false}},"comparison_type":{"type":"string","value":"==="},"value2":{"type":"boolean","value":true}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-13":{"title":"Out-of-Range Readings Non-Crit","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"jsonpath","value":"$.steps.trigger.body.variables.isAbnormal","fallback":{"value":false,"type":"boolean"}},"comparison_type":{"type":"string","value":"==="},"value2":{"type":"boolean","value":true}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-14":{"title":"Survey Score < 6","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.variables.call_score or:'7'}"},"comparison_type":{"type":"string","value":"<"},"value2":{"type":"number","value":6}}},{"type":"object","value":{"comparison_type":{"type":"string","value":"<"},"value1":{"type":"string","value":"{$.steps.trigger.body.variables.recommend_score or:'7'}"},"value2":{"type":"number","value":6}}}]},"strictness":{"type":"string","value":"Any"}}},"boolean-condition-15":{"title":"Wrong Number","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.variables.isWrongNumber or:'false'}"},"comparison_type":{"type":"string","value":"==="},"value2":{"type":"string","value":"true"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-2":{"title":"Device Issues (Unresolved)","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.pathway_tags}"},"comparison_type":{"type":"string","value":"contains"},"value2":{"type":"string","value":"Support - Device issues"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-3":{"title":"Is Voicemail Detected","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"comparison_type":{"type":"string","value":"==="},"value1":{"type":"jsonpath","value":"$.steps.script-10.result.result"},"value2":{"type":"boolean","value":true}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-4":{"title":"Is Bucket Not Found","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"jsonpath","value":"$.steps.object-helpers-2.result.statusCode"},"comparison_type":{"type":"string","value":"==="},"value2":{"type":"string","value":"404"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-5":{"title":"Wrong Number","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.pathway_tags}"},"comparison_type":{"type":"string","value":"contains"},"value2":{"type":"string","value":"Wrong number"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-6":{"title":"If Successful Readings","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.pathway_tags}"},"comparison_type":{"type":"string","value":"contains"},"value2":{"type":"string","value":"Success"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-7":{"title":"Out-of-Range Readings Non-Crit","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.pathway_tags}"},"comparison_type":{"type":"string","value":"contains"},"value2":{"type":"string","value":"Follow up"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-8":{"title":"Survey Score < 6","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.variables.survey_question_1 or:'7'}"},"comparison_type":{"type":"string","value":"<"},"value2":{"type":"number","value":6}}},{"type":"object","value":{"comparison_type":{"type":"string","value":"<"},"value1":{"type":"string","value":"{$.steps.trigger.body.variables.survey_question_2 or:'7'}"},"value2":{"type":"number","value":6}}}]},"strictness":{"type":"string","value":"Any"}}},"boolean-condition-9":{"title":"If Bland Error Message Exists","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"jsonpath","value":"$.steps.trigger.body.error_message"},"comparison_type":{"type":"string","value":"!=="},"value2":{"type":"null","value":null}}}]},"strictness":{"type":"string","value":"All"}}},"branch-1":{"title":"Simple Branch","connector":{"name":"branch","version":"1.3"},"operation":"simple","output_schema":{},"error_handling":{},"properties":{"value":{"type":"string","value":"{$.steps.trigger.body.pathway_id}"},"branches":{"type":"array","value":[{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.storage-3.value"},"label":{"type":"string","value":"CCM Intake - Inbound"}}},{"type":"object","value":{"label":{"type":"string","value":"RPM Adherence - Outbound"},"value":{"type":"jsonpath","value":"$.steps.storage-1.value"}}},{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.storage-2.value"},"label":{"type":"string","value":"RPM Adherence Outbound - Rebuild"}}},{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.storage-4.value"},"label":{"type":"string","value":"CCM Intake Inbound (Rebuild)"}}},{"type":"object","value":{"label":{"type":"string","value":"RPM Rapport"},"value":{"type":"string","value":"{$.steps.storage-5.value}"}}},{"type":"object","value":{"label":{"type":"string","value":"CCM Intake - Outbound"},"value":{"type":"jsonpath","value":"$.steps.storage-6.value"}}}]}}},"branch-2":{"title":"Pathway Router","connector":{"name":"branch","version":"1.3"},"operation":"simple","output_schema":{},"error_handling":{},"properties":{"value":{"type":"jsonpath","value":"$.steps.trigger.body.pathway_id"},"branches":{"type":"array","value":[{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.storage-1.value"},"label":{"type":"string","value":"RPM Adherence"}}},{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.storage-2.value"},"label":{"type":"string","value":"RPM Adherence (Rebuild)"}}}]}}},"date-time-helpers-1":{"title":"Get current timestamp","connector":{"name":"date-time-helpers","version":"3.0"},"operation":"current_timestamp","output_schema":{},"error_handling":{},"properties":{"timezone":{"type":"string","value":"UTC"},"format":{"type":"object","value":{"existing_format":{"type":"string","value":"YYYY-MM-DDTHH:mm:ssZ"}}}}},"date-time-helpers-2":{"title":"Get current timestamp","connector":{"name":"date-time-helpers","version":"3.0"},"operation":"current_timestamp","output_schema":{},"error_handling":{},"properties":{"timezone":{"type":"string","value":"UTC"},"format":{"type":"object","value":{"existing_format":{"type":"string","value":"YYYY-MM-DDTHH:mm:ssZ"}}}}},"date-time-helpers-3":{"title":"Format Now Date","connector":{"name":"date-time-helpers","version":"3.0"},"operation":"format","output_schema":{},"error_handling":{},"properties":{"timezone":{"type":"string","value":"America/New_York"},"date":{"type":"jsonpath","value":"$.steps.trigger.body.variables.now"},"format":{"type":"object","value":{"custom_format":{"type":"string","value":"MM/DD/YYYY HH:mm:ss"}}}}},"file-helpers-3":{"title":"Download Call Audio File","connector":{"name":"file-helpers","version":"2.6"},"operation":"create_file","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"file":{"type":"object","properties":{"name":{"type":"string"},"url":{"type":"string"},"mime_type":{"type":"string"},"expires":{"type":"number"}}},"status_code":{"type":"number"},"headers":{"type":"object","properties":{"x-amz-request-id":{"type":"string"},"x-amz-id-2":{"type":"string"},"content-type":{"type":"string"},"transfer-encoding":{"type":"string"},"date":{"type":"string"},"server":{"type":"string"},"connection":{"type":"string"}}}}},"error_handling":{},"properties":{"url":{"type":"jsonpath","value":"$.steps.trigger.body.recording_url"},"name":{"type":"string","value":""}}},"http-client-1":{"title":"GET Storage Bucket","connector":{"name":"http-client","version":"5.6"},"operation":"get_request","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"status_code":{"type":"number"},"headers":{"type":"object","properties":{"access-control-allow-origin":{"type":"string"},"content-length":{"type":"string"},"content-type":{"type":"string"},"date":{"type":"string"},"via":{"type":"string"},"x-kong-proxy-latency":{"type":"string"},"x-kong-upstream-latency":{"type":"string"},"connection":{"type":"string"}}},"response":{"type":"object","properties":{"statusCode":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"}}},"message":{"type":"string"}}},"error_handling":{"strategy":"manual"},"authentication":{"group":"1e534822-3251-4e11-a759-bb36b1458d27","title":"dev-supabase-api-credentials","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"follow_redirect":{"type":"boolean","value":false},"follow_keep_method":{"type":"boolean","value":false},"reject_unauthorized":{"type":"boolean","value":true},"follow_authorization_header":{"type":"boolean","value":false},"parse_response":{"type":"string","value":"true"},"status_code":{"type":"object","value":{"range":{"type":"object","value":{"from":{"type":"integer","value":200},"to":{"type":"integer","value":299}}}}},"case_sensitive_headers":{"type":"boolean","value":false},"url":{"type":"jsonpath","value":"$.steps.text-helpers-1.result"},"headers":{"type":"array","value":[{"type":"object","value":{"key":{"type":"string","value":"apikey"},"value":{"type":"string","value":"{$.auth.apikey}"}}}]}}},"http-client-2":{"title":"Create Storage Bucket","connector":{"name":"http-client","version":"5.6"},"operation":"post_request","output_schema":{},"error_handling":{},"authentication":{"group":"1e534822-3251-4e11-a759-bb36b1458d27","title":"dev-supabase-api-credentials","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"auth":{"type":"object","value":{"none":{"type":"null","value":null}}},"follow_redirect":{"type":"boolean","value":false},"follow_keep_method":{"type":"boolean","value":false},"reject_unauthorized":{"type":"boolean","value":true},"follow_authorization_header":{"type":"boolean","value":false},"parse_response":{"type":"string","value":"true"},"status_code":{"type":"object","value":{"range":{"type":"object","value":{"from":{"type":"integer","value":200},"to":{"type":"integer","value":299}}}}},"case_sensitive_headers":{"type":"boolean","value":false},"url":{"type":"string","value":"{$.config.SUPABASE_URL}/storage/v1/bucket"},"headers":{"type":"array","value":[{"type":"object","value":{"key":{"type":"string","value":"apikey"},"value":{"type":"string","value":"{$.auth.apikey}"}}}]},"body":{"type":"object","value":{"raw":{"type":"object","value":{"name":{"type":"jsonpath","value":"$.steps.trigger.body.pathway_id"}}}}}}},"http-client-3":{"title":"GET Signed Upload URL","connector":{"name":"http-client","version":"5.6"},"operation":"post_request","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"response":{"type":"object","properties":{"status_code":{"type":"number"},"headers":{"type":"object","properties":{"access-control-allow-origin":{"type":"string"},"content-length":{"type":"string"},"content-type":{"type":"string"},"date":{"type":"string"},"via":{"type":"string"},"x-kong-proxy-latency":{"type":"string"},"x-kong-upstream-latency":{"type":"string"},"connection":{"type":"string"}}},"body":{"type":"object","properties":{"url":{"type":"string"},"token":{"type":"string"}}}}}}},"error_handling":{},"authentication":{"group":"1e534822-3251-4e11-a759-bb36b1458d27","title":"dev-supabase-api-credentials","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"auth":{"type":"object","value":{"none":{"type":"null","value":null}}},"follow_redirect":{"type":"boolean","value":false},"follow_keep_method":{"type":"boolean","value":false},"reject_unauthorized":{"type":"boolean","value":true},"follow_authorization_header":{"type":"boolean","value":false},"parse_response":{"type":"string","value":"true"},"status_code":{"type":"object","value":{"range":{"type":"object","value":{"from":{"type":"integer","value":200},"to":{"type":"integer","value":299}}}}},"case_sensitive_headers":{"type":"boolean","value":false},"url":{"type":"jsonpath","value":"$.steps.text-helpers-2.result"},"headers":{"type":"array","value":[{"type":"object","value":{"key":{"type":"string","value":"apikey"},"value":{"type":"string","value":"{$.auth.apikey}"}}}]}}},"http-client-5":{"title":"Upload File with Signed URL","connector":{"name":"http-client","version":"5.6"},"operation":"put_request","output_schema":{},"error_handling":{},"authentication":{"group":"1e534822-3251-4e11-a759-bb36b1458d27","title":"dev-supabase-api-credentials","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"auth":{"type":"object","value":{"none":{"type":"null","value":null}}},"follow_redirect":{"type":"boolean","value":false},"follow_keep_method":{"type":"boolean","value":false},"reject_unauthorized":{"type":"boolean","value":true},"follow_authorization_header":{"type":"boolean","value":false},"parse_response":{"type":"string","value":"true"},"status_code":{"type":"object","value":{"range":{"type":"object","value":{"from":{"type":"integer","value":200},"to":{"type":"integer","value":299}}}}},"case_sensitive_headers":{"type":"boolean","value":false},"url":{"type":"jsonpath","value":"$.steps.text-helpers-3.result"},"headers":{"type":"array","value":[{"type":"object","value":{"key":{"type":"string","value":"apikey"},"value":{"type":"string","value":"{$.auth.apikey}"}}},{"type":"object","value":{"key":{"type":"string","value":"Content-Type"},"value":{"type":"string","value":"audio/wav"}}}]},"body":{"type":"object","value":{"binary":{"type":"jsonpath","value":"$.steps.file-helpers-3.file"}}}}},"list-helpers-1":{"title":"Find Device Issues Citation","connector":{"name":"list-helpers","version":"3.1"},"operation":"find_object_in_list","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"null"}}},"error_handling":{},"properties":{"list":{"type":"jsonpath","value":"$.steps.trigger.body.citations","fallback":{"type":"array","value":[]}},"object_conditions":{"type":"array","value":[{"type":"object","value":{"key":{"type":"string","value":"variable_name"},"value":{"type":"string","value":"unresolvedDeviceIssues"}}}]}}},"object-helpers-2":{"title":"JSON parse error response","connector":{"name":"object-helpers","version":"4.1"},"operation":"json_parse","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"statusCode":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"}}}}},"error_handling":{},"properties":{"source":{"type":"string","value":"{$.errors.http-client-1.response}"}}},"postgresql-2":{"title":"Update Call Entry","connector":{"name":"postgresql","version":"2.2"},"operation":"execute_sql","output_schema":{},"error_handling":{},"authentication":{"group":"b7c8e801-f190-4514-876a-28de37d29b5b","title":"supabase-db-development","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/e8cbdd05-d792-44b8-85f7-994dbb7eb4e1.png"},"scopes":[],"service_name":"postgres","service_version":2},"properties":{"host":{"type":"jsonpath","value":"$.auth.host"},"port":{"type":"jsonpath","value":"$.auth.port"},"database":{"type":"jsonpath","value":"$.auth.database"},"schema":{"type":"jsonpath","value":"$.auth.schema"},"user":{"type":"jsonpath","value":"$.auth.user"},"password":{"type":"jsonpath","value":"$.auth.password"},"ssl":{"type":"jsonpath","value":"$.auth.ssl"},"ssl_config":{"type":"jsonpath","value":"$.auth.ssl_config"},"sql":{"type":"jsonpath","value":"$.steps.script-2.result"}}},"postgresql-3":{"title":"Update Call Entry With Error","connector":{"name":"postgresql","version":"2.2"},"operation":"update","output_schema":{},"error_handling":{},"authentication":{"group":"b7c8e801-f190-4514-876a-28de37d29b5b","title":"supabase-db-development","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/e8cbdd05-d792-44b8-85f7-994dbb7eb4e1.png"},"scopes":[],"service_name":"postgres","service_version":2},"properties":{"host":{"type":"jsonpath","value":"$.auth.host"},"port":{"type":"jsonpath","value":"$.auth.port"},"database":{"type":"jsonpath","value":"$.auth.database"},"schema":{"type":"jsonpath","value":"$.auth.schema"},"user":{"type":"jsonpath","value":"$.auth.user"},"password":{"type":"jsonpath","value":"$.auth.password"},"ssl":{"type":"jsonpath","value":"$.auth.ssl"},"ssl_config":{"type":"jsonpath","value":"$.auth.ssl_config"},"table":{"type":"string","value":"calls"},"conditions":{"type":"array","value":[{"type":"object","value":{"operator":{"type":"string","value":"equal to"},"field":{"type":"string","value":"call_request_id"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.call_request_id"}}}]},"data":{"type":"object","value":{"error_message":{"type":"jsonpath","value":"$.steps.trigger.body.error_message"},"bland_call_id":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"},"completed":{"type":"jsonpath","value":"$.steps.trigger.body.completed"},"status":{"type":"jsonpath","value":"$.steps.trigger.body.status"}}}}},"postgresql-4":{"title":"Update rows","connector":{"name":"postgresql","version":"2.2"},"operation":"update","output_schema":{},"error_handling":{},"authentication":{"group":"b7c8e801-f190-4514-876a-28de37d29b5b","title":"supabase-db-development","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/e8cbdd05-d792-44b8-85f7-994dbb7eb4e1.png"},"scopes":[],"service_name":"postgres","service_version":2},"properties":{"host":{"type":"jsonpath","value":"$.auth.host"},"port":{"type":"jsonpath","value":"$.auth.port"},"database":{"type":"jsonpath","value":"$.auth.database"},"schema":{"type":"jsonpath","value":"$.auth.schema"},"user":{"type":"jsonpath","value":"$.auth.user"},"password":{"type":"jsonpath","value":"$.auth.password"},"ssl":{"type":"jsonpath","value":"$.auth.ssl"},"ssl_config":{"type":"jsonpath","value":"$.auth.ssl_config"},"table":{"type":"string","value":"calls"},"conditions":{"type":"array","value":[{"type":"object","value":{"operator":{"type":"string","value":"equal to"},"field":{"type":"string","value":"call_request_id"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.call_request_id"}}}]},"data":{"type":"object","value":{"status":{"type":"jsonpath","value":"$.steps.trigger.body.status"},"bland_call_id":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"},"completed":{"type":"jsonpath","value":"$.steps.trigger.body.completed"}}}}},"postgresql-5":{"title":"Update Call Entry With Error","connector":{"name":"postgresql","version":"2.2"},"operation":"update","output_schema":{},"error_handling":{},"authentication":{"group":"b7c8e801-f190-4514-876a-28de37d29b5b","title":"supabase-db-development","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/e8cbdd05-d792-44b8-85f7-994dbb7eb4e1.png"},"scopes":[],"service_name":"postgres","service_version":2},"properties":{"host":{"type":"jsonpath","value":"$.auth.host"},"port":{"type":"jsonpath","value":"$.auth.port"},"database":{"type":"jsonpath","value":"$.auth.database"},"schema":{"type":"jsonpath","value":"$.auth.schema"},"user":{"type":"jsonpath","value":"$.auth.user"},"password":{"type":"jsonpath","value":"$.auth.password"},"ssl":{"type":"jsonpath","value":"$.auth.ssl"},"ssl_config":{"type":"jsonpath","value":"$.auth.ssl_config"},"table":{"type":"string","value":"calls"},"conditions":{"type":"array","value":[{"type":"object","value":{"operator":{"type":"string","value":"equal to"},"field":{"type":"string","value":"call_request_id"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.call_request_id"}}}]},"data":{"type":"object","value":{"error_message":{"type":"jsonpath","value":"$.steps.trigger.body.error_message"},"bland_call_id":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"},"completed":{"type":"jsonpath","value":"$.steps.trigger.body.completed"},"status":{"type":"jsonpath","value":"$.steps.trigger.body.status"}}}}},"script-1":{"title":"Is Voicemail Detected","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"result":{"type":"boolean"},"voicemail_detected":{"type":"boolean"},"emergency_detected":{"type":"boolean"},"transferred_to_nurse":{"type":"boolean"},"patient_requests_human":{"type":"boolean"},"patient_requests_dnc":{"type":"boolean"},"non_medical_hold_required":{"type":"null"},"first_question_answered":{"type":"null"}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"citations"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.citations"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function (input, fileInput) {\n\t// Extract variable values\n\tconst voicemail_detected = input.citations.find(obj => obj.variable_name === \"voicemail_detected\")?.value\n\tconst emergency_detected = input.citations.find(obj => obj.variable_name === \"emergency_detected\")?.value\n\tconst transferred_to_nurse = input.citations.find(obj => obj.variable_name === \"transferred_to_nurse\")?.value\n\tconst patient_requests_human = input.citations.find(obj => obj.variable_name === \"patient_requests_human\")?.value\n\tconst patient_requests_dnc = input.citations.find(obj => obj.variable_name === \"patient_requests_dnc\")?.value\n\tconst non_medical_hold_required = input.citations.find(obj => obj.variable_name === \"non_medical_hold_required\")?.value\n\tconst first_question_answered = input.citations.find(obj => obj.variable_name === \"first_question_answered\")?.value\n\n\tconst is_voicemail_detected =\n\t\tvoicemail_detected === true &&\n\t\temergency_detected === false &&\n\t\ttransferred_to_nurse === false &&\n\t\tpatient_requests_human === false &&\n\t\tpatient_requests_dnc === false &&\n\t\tnon_medical_hold_required === null &&\n\t\tfirst_question_answered === false\n\n\treturn {\n\t\tresult: is_voicemail_detected ? \"TRUE\" : \"FALSE\",\n\t\tvoicemail_detected,\n\t\temergency_detected,\n\t\ttransferred_to_nurse,\n\t\tpatient_requests_human,\n\t\tpatient_requests_dnc,\n\t\tnon_medical_hold_required,\n\t\tfirst_question_answered,\n\t};\n};"},"file_output":{"type":"boolean","value":false}}},"script-10":{"title":"Is Voicemail Detected","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"result":{"type":"boolean"},"voicemail_detected":{"type":"boolean"},"identity_verified":{"type":"boolean"},"voicemail_left":{"type":"boolean"},"call_end_reason":{"type":"string"},"call_completed_successfully":{"type":"boolean"}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"citations"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.citations"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\t// Extract variable values\n\tconst voicemail_detected = input.citations.find(obj => obj.variable_name === \"voicemail_detected\")?.value\n\tconst identity_verified = input.citations.find(obj => obj.variable_name === \"identity_verified\")?.value\n\tconst voicemail_left = input.citations.find(obj => obj.variable_name === \"voicemail_left\")?.value\n\tconst call_end_reason = input.citations.find(obj => obj.variable_name === \"call_end_reason\")?.value\n    const call_completed_successfully = input.citations.find(obj => obj.variable_name === \"call_completed_successfully\")?.value\n\t\n\tconst is_voicemail_detected = \n    voicemail_detected === true &&\n    identity_verified === false &&\n    voicemail_left === true &&\n    call_end_reason === \"voicemail\" &&\n    call_completed_successfully === false\n\n\treturn {\n\t\tresult: is_voicemail_detected,\n        voicemail_detected,\n        identity_verified,\n        voicemail_left,\n        call_end_reason,\n        call_completed_successfully,\n\t};\n};"},"file_output":{"type":"boolean","value":false}}},"script-2":{"title":"Build Query","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"string"},"console":{"type":"array","items":{}}}},"error_handling":{},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"request_body"},"value":{"type":"jsonpath","value":"$.steps.trigger.body"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\t// Helper function to safely format SQL values\n\tconst formatValue = (value) => {\n\t\tif (value === null || value === undefined) {\n\t\t\treturn 'NULL';\n\t\t}\n\t\tif (typeof value === 'string') {\n\t\t\treturn `'${value.replace(/'/g, \"''\")}'`; // Escape single quotes\n\t\t}\n\t\tif (typeof value === 'object') {\n\t\t\treturn `'${JSON.stringify(value).replace(/'/g, \"''\")}'`;\n\t\t}\n\t\treturn value; // Numbers, booleans\n\t};\n\n\tconst rb = input.request_body;\n\t\n\tconst query = `\n\t\tUPDATE calls\n\t\tSET started_at = ${formatValue(rb.started_at)},\n\t\t\t\tended_at = ${formatValue(rb.ended_at)},\n\t\t\t\tlength = ${formatValue(rb.call_length)},\n\t\t\t\tcompleted = ${formatValue(rb.completed)},\n\t\t\t\tcall_completion_json = ${formatValue(rb)},\n\t\t\t\tsummary = ${formatValue(rb.summary)},\n\t\t\t\tcost = ${formatValue(rb.price)},\n\t\t\t\tstatus = ${formatValue(rb.status)},\n\t\t\t\tdisposition_tag = ${formatValue(rb.disposition_tag)},\n\t\t\t\tpathway_id = ${formatValue(rb.pathway_id)},\n\t\t\t\tcorrected_duration = ${formatValue(rb.corrected_duration)},\n\t\t\t\tcaptured_data = ${formatValue(rb.variables)},\n\t\t\t\trecorded = ${formatValue(rb.recorded)},\n\t\t\t\tinbound = ${formatValue(rb.inbound)},\n\t\t\t\tmetadata = ${formatValue(rb.metadata)},\n\t\t\t\tpathway_tags = ${formatValue(rb.pathway_tags)},\n\t\t\t\tended_by = ${formatValue(rb.ended_by)},\n\t\t\t\terror_message = ${formatValue(rb.error_message)},\n\t\t\t\tlocal_dialing = ${formatValue(rb.local_dialing)},\n\t\t\t\trecording_url = ${formatValue(rb.recording_url)},\n\t\t\t\ttransferred_to = ${formatValue(rb.transferred_to)},\n\t\t\t\trecording_expiration = ${formatValue(rb.recording_expiration)},\n\t\t\t\tconcatenated_transcript = ${formatValue(rb.concatenated_transcript)},\n\t\t\t\tbland_call_id = ${formatValue(rb.call_id)},\n\t\t\t\tbland_batch_id = ${formatValue(rb.batch_id)}\n\t\tWHERE call_request_id = ${formatValue(rb.metadata.call_request_id)};\n\t`;\n\t\n\treturn query;\n};"},"file_output":{"type":"boolean","value":false}}},"script-3":{"title":"Authenticate Request","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"valid":{"type":"boolean"},"errors":{"type":"array","items":{"type":"string"}}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"request_bearer_token"},"value":{"type":"jsonpath","value":"$.steps.trigger.headers.authorization"}}},{"type":"object","value":{"name":{"type":"string","value":"expected_bearer_token"},"value":{"type":"jsonpath","value":"$.auth.bearer_token"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n  const errors = [];\n\n  const headerValue = typeof input.request_bearer_token === 'string' ? input.request_bearer_token : '';\n\n  if (!headerValue) errors.push('Missing request_bearer_token');\n\n  let provided = '';\n  if (errors.length === 0) {\n    const trimmed = headerValue.trim();\n\n    provided = trimmed.split(' ')[1] || '';\n    if (!provided) errors.push('Empty bearer token');\n  }\n\n  const valid = errors.length === 0 && provided === input.expected_bearer_token;\n  if (!valid && errors.length === 0) errors.push('Invalid bearer token');\n\n  return { valid, errors };\n};"},"file_output":{"type":"boolean","value":false}}},"script-4":{"title":"Assessment Status","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"result":{"type":"string"},"voicemail_detected":{"type":"boolean"},"patient_date_of_birth":{"type":"null"},"first_question_answered":{"type":"null"},"partial_survey_complete":{"type":"null"}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"citations"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.citations"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\t// Extract variable values\n\tconst voicemail_detected = input.citations.find(obj => obj.variable_name === \"voicemail_detected\")?.value\n\tconst patient_date_of_birth = input.citations.find(obj => obj.variable_name === \"patient_date_of_birth\")?.value\n\tconst first_question_answered = input.citations.find(obj => obj.variable_name === \"first_question_answered\")?.value\n\tconst partial_survey_complete = input.citations.find(obj => obj.variable_name === \"partial_survey_complete\")?.value\n\t\n\tconst assessment_status = \n    voicemail_detected === false &&\n    patient_date_of_birth !== null &&\n    first_question_answered === true &&\n    partial_survey_complete === true\n\n\treturn {\n\t\tresult: assessment_status ? \"complete\" : \"incomplete\",\n        voicemail_detected,\n        patient_date_of_birth,\n        first_question_answered,\n        partial_survey_complete,\n\t};\n};"},"file_output":{"type":"boolean","value":false}}},"script-5":{"title":"Build PRVNT Patient URL","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"patient_id"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\treturn `https://nsight.prvnt.ai/patients/${input.patient_id}/overview`;\n};"},"file_output":{"type":"boolean","value":false}}},"script-6":{"title":"Assessment Status","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"result":{"type":"string"},"voicemail_detected":{"type":"boolean"},"patient_date_of_birth":{"type":"null"},"first_question_answered":{"type":"null"},"partial_survey_complete":{"type":"null"}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"citations"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.citations"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\t// Extract variable values\n\tconst voicemail_detected = input.citations.find(obj => obj.variable_name === \"voicemail_detected\")?.value\n\tconst patient_date_of_birth = input.citations.find(obj => obj.variable_name === \"patient_date_of_birth\")?.value\n\tconst first_question_answered = input.citations.find(obj => obj.variable_name === \"first_question_answered\")?.value\n\tconst partial_survey_complete = input.citations.find(obj => obj.variable_name === \"partial_survey_complete\")?.value\n\t\n\tconst assessment_status = \n    voicemail_detected === false &&\n    patient_date_of_birth !== null &&\n    first_question_answered === true &&\n    partial_survey_complete === true\n\n\treturn {\n\t\tresult: assessment_status ? \"complete\" : \"incomplete\",\n        voicemail_detected,\n        patient_date_of_birth,\n        first_question_answered,\n        partial_survey_complete,\n\t};\n};"},"file_output":{"type":"boolean","value":false}}},"script-7":{"title":"Disposition List","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"result":{"type":"string"},"partial_survey_complete":{"type":"boolean"},"assessment_completed":{"type":"boolean"},"first_question_answered":{"type":"boolean"}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"citations"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.citations"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\t// Extract variable values\n\tconst voicemail_detected = input.citations.find(obj => obj.variable_name === \"voicemail_detected\")?.value\n\tconst patient_date_of_birth = input.citations.find(obj => obj.variable_name === \"patient_date_of_birth\")?.value\n\tconst first_question_answered = input.citations.find(obj => obj.variable_name === \"first_question_answered\")?.value\n\tconst partial_survey_complete = input.citations.find(obj => obj.variable_name === \"partial_survey_complete\")?.value\n\tconst assessment_completed = input.citations.find(obj => obj.variable_name === \"assessment_completed\")?.value\n\tconst callback_requested_or_promised = input.citations.find(obj => obj.variable_name === \"callback_requested_or_promised\")?.value\n\tconst patient_requests_human = input.citations.find(obj => obj.variable_name === \"patient_requests_human\")?.value\n\tconst patient_declined_to_continue = input.citations.find(obj => obj.variable_name === \"patient_declined_to_continue\")?.value\n\t\n\tconst half_assessment = \n\t\tpartial_survey_complete === true &&\n\t\tassessment_completed === false &&\n\t\tfirst_question_answered === true\n\n\tconst voicemail =\n\t\tvoicemail_detected === true &&\n\t\tfirst_question_answered === false &&\n\t\tpatient_date_of_birth === null\n\n\n\treturn {\n\t\thalf_assessment: half_assessment ? \"half_assessment\" : \"\",\n\t\tvoicemail: voicemail ? \"voicemail\": \"\"\n\n\t};\n};"},"file_output":{"type":"boolean","value":false}}},"script-8":{"title":"Assessment Status","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"result":{"type":"string"},"voicemail_detected":{"type":"boolean"},"patient_date_of_birth":{"type":"null"},"first_question_answered":{"type":"null"},"partial_survey_complete":{"type":"null"}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"citations"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.citations"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\t// Extract variable values\n\tconst voicemail_detected = input.citations.find(obj => obj.variable_name === \"voicemail_detected\")?.value\n\tconst patient_date_of_birth = input.citations.find(obj => obj.variable_name === \"patient_date_of_birth\")?.value\n\tconst first_question_answered = input.citations.find(obj => obj.variable_name === \"first_question_answered\")?.value\n\tconst partial_survey_complete = input.citations.find(obj => obj.variable_name === \"partial_survey_complete\")?.value\n\t\n\tconst assessment_status = \n    voicemail_detected === false &&\n    patient_date_of_birth !== null &&\n    first_question_answered === \"TRUE\" &&\n    partial_survey_complete === \"TRUE\"\n\n\treturn {\n\t\tresult: assessment_status ? \"complete\" : \"incomplete\",\n        voicemail_detected,\n        patient_date_of_birth,\n        first_question_answered,\n        partial_survey_complete,\n\t};\n};"},"file_output":{"type":"boolean","value":false}}},"script-9":{"title":"Build PRVNT Patient URL","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"patient_id"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\treturn `https://nsight.prvnt.ai/patients/${input.patient_id}/overview`;\n};"},"file_output":{"type":"boolean","value":false}}},"sheets-1":{"title":"Successful Readings Sheet","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Successful Readings"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-10":{"title":"Wrong Number","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Wrong number"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-11":{"title":"Survey Score < 6","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Survey Score < 6"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-12":{"title":"Wrong Number","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Wrong number"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-13":{"title":"Record Error Message","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.BLAND_CALL_ERRORS_SHEET_ID}"},"value_input_option":{"type":"string","value":"RAW"},"worksheet_name":{"type":"string","value":"Sheet1"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-2.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.pathway_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"}}}]}}},"sheets-14":{"title":"Data Team Report","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.CCM_OUTBOUND_DATA_REPORT_GSHEET_ID}"},"worksheet_name":{"type":"string","value":"Sheet1"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-3.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_length"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.script-1.result.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"E"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"}}}]}}},"sheets-15":{"title":"Create row","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.RPM_RAPPORT_G_SHEET_ID}"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-3.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_length"}}}]},"worksheet_name":{"type":"string","value":"Sheet1"}}},"sheets-16":{"title":"Save CCM Call Data","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.CCM_INTAKE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Sheet1"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.started_at"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_length"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.summary"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"E"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.concatenated_transcript"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"F"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}}]}}},"sheets-17":{"title":"Clinical Team Report","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.CCM_OUTBOUND_CLINICAL_REPORT_GSHEET_ID}"},"worksheet_name":{"type":"string","value":"outbound"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-3.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.script-5.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.concatenated_transcript"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.script-4.result.result"}}},{"type":"object","value":{"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"},"column_heading":{"type":"string","value":"E"}}}]}}},"sheets-18":{"title":"Clinical Team Report","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.CCM_OUTBOUND_CLINICAL_REPORT_GSHEET_ID}"},"worksheet_name":{"type":"string","value":"inbound"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-3.result","fallback":{"type":"null","value":null}}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.variables.date_of_birth","fallback":{"value":null,"type":"null"}}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.variables.first_name","fallback":{"type":"null","value":null}}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.variables.last_name","fallback":{"type":"null","value":null}}}},{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.trigger.body.from","fallback":{"type":"null","value":null}},"column_heading":{"type":"string","value":"E"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"F"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.concatenated_transcript","fallback":{"type":"null","value":null}}}},{"type":"object","value":{"column_heading":{"type":"string","value":"G"},"value":{"type":"jsonpath","value":"$.steps.script-6.result.result","fallback":{"type":"null","value":null}}}},{"type":"object","value":{"column_heading":{"type":"string","value":"H"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_id","fallback":{"type":"null","value":null}}}},{"type":"object","value":{"column_heading":{"type":"string","value":"I"},"value":{"type":"jsonpath","value":"$.steps.script-7.result.result"}}}]}}},"sheets-19":{"title":"Clinical Team Report","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.CCM_OUTBOUND_CLINICAL_REPORT_GSHEET_ID}"},"worksheet_name":{"type":"string","value":"Sheet1"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-3.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.script-9.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.concatenated_transcript"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.script-8.result.result"}}},{"type":"object","value":{"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"},"column_heading":{"type":"string","value":"E"}}}]}}},"sheets-3":{"title":"Record Error Message","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.BLAND_CALL_ERRORS_SHEET_ID}"},"value_input_option":{"type":"string","value":"RAW"},"worksheet_name":{"type":"string","value":"Sheet1"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-1.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.pathway_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"}}}]}}},"sheets-4":{"title":"Successfull Readings Sheet","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Successful Readings"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-5":{"title":"Device Issues (Unresolved)","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Device Issues (Unresolved)"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id or:''}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-6":{"title":"ReadingOutOfRange (Non-crit)","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Out-of-Range (Non-Critical)"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-7":{"title":"Device Issues (Unresolved)","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Device Issues (Unresolved)"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-8":{"title":"ReadingOutOfRange (Non-crit)","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Out-of-Range (Non-Critical)"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-9":{"title":"Survey Score < 6","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Survey Score < 6"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"storage-1":{"title":"RPM ADH Pathway ID","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"default_value":{"type":"string","value":"919bf278-eadf-4076-b23b-94653b15e601"},"key":{"type":"string","value":"rpm_adherence_pathway_id"}}},"storage-2":{"title":"RPM ADH Pathway ID (Rebuild)","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"default_value":{"type":"string","value":"39a51845-c340-4aef-8a42-0e48af8493c9"},"key":{"type":"string","value":"rpm_adherence_pathway_id_rebuild"}}},"storage-3":{"title":"CCM Intake Pathway ID","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"default_value":{"type":"string","value":"3e1f0775-29aa-46f0-80da-a1b629825334"},"key":{"type":"string","value":"ccm_intake_pathway_id"}}},"storage-4":{"title":"CCM Intake Pathway ID -Rebuild","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"default_value":{"type":"string","value":"05107793-9d4e-4b43-9ad4-d0314b9938af"},"key":{"type":"string","value":"ccm_intake_pathway_id_rebuild"}}},"storage-5":{"title":"RPM Rapport Pathway ID","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"default_value":{"type":"string","value":"b4d38abe-6d27-4e4b-9aa8-a1fd505a4a3e"},"key":{"type":"string","value":"rpm_rapport_pathway_id"}}},"storage-6":{"title":"CCM Intake Out Pathway ID","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"key":{"type":"string","value":"ccm_intake_outbound_id"},"default_value":{"type":"string","value":"6c86fc08-58b7-4565-8b05-6b0797799360"}}},"terminate-1":{"title":"Terminate run","connector":{"name":"terminate","version":"1.1"},"operation":"terminate_run","output_schema":{},"error_handling":{},"properties":{}},"terminate-2":{"title":"Terminate run","connector":{"name":"terminate","version":"1.1"},"operation":"terminate_run","output_schema":{},"error_handling":{},"properties":{}},"terminate-3":{"title":"Supabase Request Failed","connector":{"name":"terminate","version":"1.1"},"operation":"fail_run","output_schema":{},"error_handling":{},"properties":{"message":{"type":"string","value":"Supabase Request Failed"}}},"terminate-4":{"title":"Terminate run","connector":{"name":"terminate","version":"1.1"},"operation":"terminate_run","output_schema":{},"error_handling":{},"properties":{}},"terminate-5":{"title":"Authorization Error","connector":{"name":"terminate","version":"1.1"},"operation":"fail_run","output_schema":{},"error_handling":{},"properties":{"message":{"type":"string","value":"401 Unauthorized"}}},"text-helpers-1":{"title":"Concatenate Storage URL","connector":{"name":"text-helpers","version":"3.0"},"operation":"concatenate","output_schema":{},"error_handling":{},"properties":{"separator":{"type":"string","value":""},"values":{"type":"array","value":[{"type":"string","value":"{$.config.SUPABASE_URL}/storage/v1/bucket/"},{"type":"jsonpath","value":"$.steps.trigger.body.pathway_id"}]}}},"text-helpers-2":{"title":"Build Signed Upload URL","connector":{"name":"text-helpers","version":"3.0"},"operation":"concatenate","output_schema":{},"error_handling":{},"properties":{"separator":{"type":"string","value":""},"values":{"type":"array","value":[{"type":"string","value":"{$.config.SUPABASE_URL}/storage/v1/object/upload/sign/"},{"type":"string","value":"{$.steps.trigger.body.pathway_id}/"},{"type":"jsonpath","value":"$.steps.trigger.body.call_id"}]}}},"text-helpers-3":{"title":"Build Upload URL","connector":{"name":"text-helpers","version":"3.0"},"operation":"concatenate","output_schema":{},"error_handling":{},"properties":{"separator":{"type":"string","value":""},"values":{"type":"array","value":[{"type":"string","value":"{$.config.SUPABASE_URL}/storage/v1"},{"type":"jsonpath","value":"$.steps.http-client-3.response.body.url"}]}}},"trigger":{"title":"Webhook","connector":{"name":"webhook","version":"2.3"},"operation":"fire_and_forget","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"method":{"type":"string"},"path":{"type":"string"},"body":{"type":"object","properties":{"to":{"type":"string"},"sid":{"type":"string"},"c_id":{"type":"string"},"from":{"type":"string"},"price":{"type":"number"},"end_at":{"type":"string"},"record":{"type":"boolean"},"status":{"type":"string"},"call_id":{"type":"string"},"inbound":{"type":"boolean"},"summary":{"type":"string"},"analysis":{"type":"object","properties":{"zip":{"type":"string"},"city":{"type":"string"},"email":{"type":"null"},"state":{"type":"string"},"country":{"type":"string"},"hobbies":{"type":"array","items":{"type":"string"}},"user_id":{"type":"string"},"alcohol_use":{"type":"boolean"},"call_length":{"type":"number"},"clinic_name":{"type":"string"},"tobacco_use":{"type":"boolean"},"living_alone":{"type":"boolean"},"phone_number":{"type":"string"},"seatbelt_use":{"type":"boolean"},"date_of_birth":{"type":"string"},"mobility_aids":{"type":"boolean"},"memory_changes":{"type":"boolean"},"recent_vaccines":{"type":"object","properties":{"flu_shot":{"type":"boolean"},"pneumonia_vaccine":{"type":"boolean"},"tetanus_or_tdap_booster":{"type":"boolean"}}},"appointment_time":{"type":"null"},"patient_full_name":{"type":"string"},"recent_screenings":{"type":"object","properties":{"eye_exam":{"type":"boolean"},"cholesterol_test":{"type":"boolean"},"bone_density_screening":{"type":"boolean"}}},"falls_in_last_year":{"type":"boolean"},"number_of_children":{"type":"number"},"main_support_person":{"type":"string"},"prescription_misuse":{"type":"boolean"},"diagnosed_conditions":{"type":"array","items":{"type":"string"}},"regular_dentist_visits":{"type":"boolean"},"felt_lonely_or_isolated":{"type":"boolean"},"felt_nervous_or_anxious":{"type":"boolean"},"number_of_grandchildren":{"type":"number"},"felt_down_or_lost_interest":{"type":"boolean"},"recent_healthcare_providers":{"type":"array","items":{"type":"string"}},"user_wants_to_book_appointment":{"type":"boolean"},"living_will_or_advance_directives":{"type":"boolean"},"trusted_person_for_healthcare_decisions":{"type":"boolean"},"difficulty_managing_medications_or_finances":{"type":"boolean"},"family_history_of_serious_health_conditions":{"type":"boolean"},"need_help_with_transportation_healthcare_or_food":{"type":"boolean"}}},"batch_id":{"type":"null"},"metadata":{"type":"object","properties":{"call_request_id":{"type":"string"}}},"voice_id":{"type":"string"},"completed":{"type":"boolean"},"variables":{"type":"object","properties":{"to":{"type":"string"},"now":{"type":"string"},"zip":{"type":"string"},"city":{"type":"string"},"from":{"type":"string"},"state":{"type":"string"},"region":{"type":"string"},"call_id":{"type":"string"},"country":{"type":"string"},"now_utc":{"type":"string"},"user_id":{"type":"string"},"language":{"type":"string"},"short_to":{"type":"string"},"timezone":{"type":"string"},"last_name":{"type":"string"},"timestamp":{"type":"string"},"first_name":{"type":"string"},"short_from":{"type":"string"},"clinic_name":{"type":"string"},"phone_number":{"type":"string"},"date_of_birth":{"type":"string"},"placement_group":{"type":"string"}}},"created_at":{"type":"string"},"pathway_id":{"type":"string"},"start_time":{"type":"null"},"started_at":{"type":"string"},"updated_at":{"type":"string"},"answered_by":{"type":"null"},"call_length":{"type":"number"},"transcripts":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"text":{"type":"string"},"user":{"type":"string"},"created_at":{"type":"string"}},"required":["id","text","user","created_at"]}},"max_duration":{"type":"number"},"pathway_tags":{"type":"array","items":{"type":"string"}},"queue_status":{"type":"string"},"call_ended_by":{"type":"string"},"error_message":{"type":"null"},"local_dialing":{"type":"boolean"},"recording_url":{"type":"string"},"transferred_at":{"type":"null"},"transferred_to":{"type":"null"},"version_number":{"type":"null"},"analysis_schema":{"type":"object","properties":{}},"corrected_duration":{"type":"string"},"twilio_account_sid":{"type":"string"},"warm_transfer_call":{"type":"null"},"citation_schema_ids":{"type":"array","items":{"type":"string"}},"is_proxy_agent_call":{"type":"boolean"},"warm_transfer_calls":{"type":"null"},"recording_expiration":{"type":"null"},"pre_transfer_duration":{"type":"null"},"post_transfer_duration":{"type":"null"},"concatenated_transcript":{"type":"string"},"citations":{"type":"array","items":{"type":"object","properties":{"call_id":{"type":"string"},"variable_name":{"type":"string"},"variable_type":{"type":"string"},"value":{"type":["array","null","boolean","string"],"items":{"type":"string"}},"cited_utterances":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"idx":{"type":"number"},"start_time":{"type":"number"},"end_time":{"type":"number"},"confidence":{"type":"number"},"channel":{"type":"number"},"transcript":{"type":"string"},"speaker_id":{"type":"string"},"speaker_name":{"type":"string"},"speaker_description":{"type":"string"},"topics":{"type":"array","items":{}},"topics_meta":{"type":"null"},"utterance_type":{"type":"string"}},"required":["id","idx","start_time","end_time","confidence","channel","transcript","speaker_id","speaker_name","speaker_description","topics","topics_meta","utterance_type"]}},"schema_id":{"type":"string"}},"required":["call_id","variable_name","variable_type","value","cited_utterances","schema_id"]}},"corrected_transcript":{"type":"array","items":{"type":"object","properties":{"start":{"type":"number"},"end":{"type":"number"},"speaker":{"type":"number"},"speaker_label":{"type":"string"},"text":{"type":"string"},"confidence":{"type":"number"}},"required":["start","end","speaker","speaker_label","text","confidence"]}}}},"query":{"type":"object","properties":{}},"headers":{"type":"object","properties":{"x-forwarded-port":{"type":"string"},"accept":{"type":"string"},"sentry-trace":{"type":"string"},"user-agent":{"type":"string"},"content-length":{"type":"string"},"authorization":{"type":"string"},"remote-address":{"type":"string"},"x-amzn-trace-id":{"type":"string"},"content-type":{"type":"string"},"baggage":{"type":"string"},"accept-encoding":{"type":"string"},"x-forwarded-for":{"type":"string"},"x-forwarded-proto":{"type":"string"},"host":{"type":"string"}}}}},"error_handling":{},"properties":{}}},"legacy_error_handling":false,"dependencies":[{"id":"59bc80e3-7283-43cb-8443-54544833ee98","name":"Live Bland Webhook Alert"}]},{"id":"f17aa6bb-4bdf-40ee-b155-fec2ce3ca1bb","created":"2025-08-05T16:55:18.522497Z","workspace_id":"201aa818-49bc-4547-a03b-91733c39ef0d","project_id":"70d2d126-9bfb-43ce-9fcc-2bdf8275726b","group":"94643919-5e10-4ba5-ad1a-6d2422fb612c","creator":"6484852a-2f8b-494f-b0a6-26122611280d","version":{"id":"abda2857-01c9-4fb1-b75c-16345d3acb42","created":"2025-11-07T17:12:20.437274Z"},"title":"Bland Post Call Webhook - Webhook","enabled":true,"tags":[],"settings":{"config":{"0":{"started_at":"{$.steps.object-helpers-3.result[\"started_at\"]}","call_id":"{$.steps.object-helpers-3.result[\"call_id\"]}","inbound":"{$.steps.object-helpers-3.result[\"inbound\"]}"},"BLAND_CALL_ERRORS_SHEET_ID":"1uldeEBhKAGOa9SqfJd7nCd9w64eLIp9ZERaFXHBz--Q","BLAND_CALL_ERRORS_SHEET_NAME":"Sheet1","CCM_INTAKE_G_SHEET_ID":"1-aio1zAzCrl4sehQwsW0b3D1TH1-h-1EwaMMkjFExdA","CCM_INTAKE_G_SHEET_NAME":"CCM Intake Tray Webhook Testing","environment":"production","RPM_ADHERENCE_G_SHEET_ID":"16EIFo7A9GTW32giEmfKWohibvxML02ywccyxFeFMFoo","RPM_ADHERENCE_G_SHEET_NAME":"RPM Adherence Call Data Tray Testing","Sentry_Bland_Post_Call_Webhook":"https://1799e7d9055a56f7f2b79fabb9986149@o4509469414522880.ingest.us.sentry.io/4509922719301632","SUPABASE_URL":"https://jrfmbmlalrspqlxzfmrj.supabase.co","Use_Domo_Mock":true,"Verbose":false,"CCM_OUTBOUND_DATA_REPORT_GSHEET_ID":"1niqx4ScLKOIUy1WW9JAiPwkPKZ1stSIxeSzJIxNx-JQ","RPM_RAPPORT_G_SHEET_ID":"1oXgt-pQTTSt33MLt9arcKgmbvPKpWenphwO3FIjeOBo","RPM_RAPPORT_G_SHEET_NAME":"RPM Rapport Post Call Data Test","Test_Bland_Token":"1E53A5BB-A77A-450E-B175-58C50BAB0BE6","CCM_OUTBOUND_CLINICAL_REPORT_GSHEET_ID":"1xU8ZQk4lXUPfk7bbmW6TvPC3k6qOUZi4kaTi2ax1NHw","SUPABASE_API_URL":"https://jrfmbmlalrspqlxzfmrj.supabase.co"},"alerting_workflow_id":"59bc80e3-7283-43cb-8443-54544833ee98","input_schema":{},"output_schema":{"type":"object","properties":{"ok":{"type":"string","title":"response","default":"true"}},"additionalProperties":false,"required":[],"advanced":[]}},"steps_structure":[{"name":"trigger","type":"normal","content":{}},{"name":"script-3","type":"normal","content":{}},{"name":"boolean-condition-1","type":"branch","content":{"true":[{"name":"storage-5","type":"normal","content":{}},{"name":"storage-1","type":"normal","content":{}},{"name":"storage-2","type":"normal","content":{}},{"name":"storage-3","type":"normal","content":{}},{"name":"storage-4","type":"normal","content":{}},{"name":"storage-6","type":"normal","content":{}},{"name":"boolean-condition-9","type":"branch","content":{"true":[{"name":"branch-2","type":"branch","content":{"__default__":[],"branch1":[{"name":"date-time-helpers-1","type":"normal","content":{}},{"name":"postgresql-3","type":"normal","content":{}},{"name":"sheets-3","type":"normal","content":{}},{"name":"terminate-1","type":"normal","content":{}}],"branch2":[{"name":"date-time-helpers-2","type":"normal","content":{}},{"name":"postgresql-5","type":"normal","content":{}},{"name":"sheets-13","type":"normal","content":{}},{"name":"terminate-2","type":"normal","content":{}}]}}],"false":[{"name":"boolean-condition-10","type":"branch","content":{"true":[{"name":"postgresql-4","type":"normal","content":{}},{"name":"terminate-4","type":"normal","content":{}}],"false":[]}}]}},{"name":"text-helpers-1","type":"normal","content":{}},{"name":"http-client-1","type":"branch","content":{"error":[{"name":"object-helpers-2","type":"normal","content":{}},{"name":"boolean-condition-4","type":"branch","content":{"true":[{"name":"http-client-2","type":"normal","content":{}}],"false":[{"name":"terminate-3","type":"normal","content":{}}]}}],"success":[]}},{"name":"text-helpers-2","type":"normal","content":{}},{"name":"http-client-3","type":"normal","content":{}},{"name":"file-helpers-3","type":"normal","content":{}},{"name":"text-helpers-3","type":"normal","content":{}},{"name":"http-client-5","type":"normal","content":{}},{"name":"script-2","type":"normal","content":{}},{"name":"postgresql-2","type":"normal","content":{}},{"name":"date-time-helpers-3","type":"normal","content":{}},{"name":"branch-1","type":"branch","content":{"__default__":[],"branch1":[{"name":"script-8","type":"normal","content":{}},{"name":"script-9","type":"normal","content":{}},{"name":"sheets-19","type":"normal","content":{}},{"name":"sheets-16","type":"normal","content":{}}],"branch2":[{"name":"boolean-condition-6","type":"branch","content":{"true":[{"name":"sheets-1","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-2","type":"branch","content":{"true":[{"name":"sheets-7","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-7","type":"branch","content":{"true":[{"name":"sheets-8","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-8","type":"branch","content":{"true":[{"name":"sheets-9","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-5","type":"branch","content":{"true":[{"name":"sheets-10","type":"normal","content":{}}],"false":[]}}],"branch3":[{"name":"boolean-condition-11","type":"branch","content":{"true":[{"name":"sheets-4","type":"normal","content":{}}],"false":[]}},{"name":"list-helpers-1","type":"normal","content":{}},{"name":"boolean-condition-12","type":"branch","content":{"true":[{"name":"sheets-5","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-13","type":"branch","content":{"true":[{"name":"sheets-6","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-14","type":"branch","content":{"true":[{"name":"sheets-11","type":"normal","content":{}}],"false":[]}},{"name":"boolean-condition-15","type":"branch","content":{"true":[{"name":"sheets-12","type":"normal","content":{}}],"false":[]}}],"branch4":[{"name":"script-6","type":"normal","content":{}},{"name":"sheets-18","type":"normal","content":{}}],"branch5":[{"name":"script-10","type":"normal","content":{}},{"name":"boolean-condition-3","type":"branch","content":{"true":[],"false":[{"name":"sheets-15","type":"normal","content":{}}]}}],"branch6":[{"name":"script-1","type":"normal","content":{}},{"name":"script-4","type":"normal","content":{}},{"name":"script-5","type":"normal","content":{}},{"name":"sheets-14","type":"normal","content":{}},{"name":"sheets-17","type":"normal","content":{}}]}}],"false":[{"name":"terminate-5","type":"normal","content":{}}]}}],"steps":{"boolean-condition-1":{"title":"Boolean condition","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"comparison_type":{"type":"string","value":"==="},"value2":{"type":"boolean","value":true},"value1":{"type":"jsonpath","value":"$.steps.script-3.result.valid"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-10":{"title":"Call Not Completed","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"jsonpath","value":"$.steps.trigger.body.status"},"comparison_type":{"type":"string","value":"!=="},"value2":{"type":"string","value":"completed"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-11":{"title":"If Successful Readings","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.pathway_tags}"},"comparison_type":{"type":"string","value":"contains"},"value2":{"type":"string","value":"Success"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-12":{"title":"Device Issues (Unresolved)","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"jsonpath","value":"$.steps.list-helpers-1.result.value","fallback":{"type":"boolean","value":false}},"comparison_type":{"type":"string","value":"==="},"value2":{"type":"boolean","value":true}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-13":{"title":"Out-of-Range Readings Non-Crit","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"jsonpath","value":"$.steps.trigger.body.variables.isAbnormal","fallback":{"value":false,"type":"boolean"}},"comparison_type":{"type":"string","value":"==="},"value2":{"type":"boolean","value":true}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-14":{"title":"Survey Score < 6","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.variables.call_score or:'7'}"},"comparison_type":{"type":"string","value":"<"},"value2":{"type":"number","value":6}}},{"type":"object","value":{"comparison_type":{"type":"string","value":"<"},"value1":{"type":"string","value":"{$.steps.trigger.body.variables.recommend_score or:'7'}"},"value2":{"type":"number","value":6}}}]},"strictness":{"type":"string","value":"Any"}}},"boolean-condition-15":{"title":"Wrong Number","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.variables.isWrongNumber or:'false'}"},"comparison_type":{"type":"string","value":"==="},"value2":{"type":"string","value":"true"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-2":{"title":"Device Issues (Unresolved)","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.pathway_tags}"},"comparison_type":{"type":"string","value":"contains"},"value2":{"type":"string","value":"Support - Device issues"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-3":{"title":"Is Voicemail Detected","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"comparison_type":{"type":"string","value":"==="},"value1":{"type":"jsonpath","value":"$.steps.script-10.result.result"},"value2":{"type":"boolean","value":true}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-4":{"title":"Is Bucket Not Found","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"jsonpath","value":"$.steps.object-helpers-2.result.statusCode"},"comparison_type":{"type":"string","value":"==="},"value2":{"type":"string","value":"404"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-5":{"title":"Wrong Number","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.pathway_tags}"},"comparison_type":{"type":"string","value":"contains"},"value2":{"type":"string","value":"Wrong number"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-6":{"title":"If Successful Readings","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.pathway_tags}"},"comparison_type":{"type":"string","value":"contains"},"value2":{"type":"string","value":"Success"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-7":{"title":"Out-of-Range Readings Non-Crit","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.pathway_tags}"},"comparison_type":{"type":"string","value":"contains"},"value2":{"type":"string","value":"Follow up"}}}]},"strictness":{"type":"string","value":"All"}}},"boolean-condition-8":{"title":"Survey Score < 6","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"string","value":"{$.steps.trigger.body.variables.survey_question_1 or:'7'}"},"comparison_type":{"type":"string","value":"<"},"value2":{"type":"number","value":6}}},{"type":"object","value":{"comparison_type":{"type":"string","value":"<"},"value1":{"type":"string","value":"{$.steps.trigger.body.variables.survey_question_2 or:'7'}"},"value2":{"type":"number","value":6}}}]},"strictness":{"type":"string","value":"Any"}}},"boolean-condition-9":{"title":"If Bland Error Message Exists","connector":{"name":"boolean-condition","version":"2.3"},"operation":"boolean_condition","output_schema":{},"error_handling":{},"properties":{"conditions":{"type":"array","value":[{"type":"object","value":{"value1":{"type":"jsonpath","value":"$.steps.trigger.body.error_message"},"comparison_type":{"type":"string","value":"!=="},"value2":{"type":"null","value":null}}}]},"strictness":{"type":"string","value":"All"}}},"branch-1":{"title":"Simple Branch","connector":{"name":"branch","version":"1.3"},"operation":"simple","output_schema":{},"error_handling":{},"properties":{"value":{"type":"string","value":"{$.steps.trigger.body.pathway_id}"},"branches":{"type":"array","value":[{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.storage-3.value"},"label":{"type":"string","value":"CCM Intake - Inbound"}}},{"type":"object","value":{"label":{"type":"string","value":"RPM Adherence - Outbound"},"value":{"type":"jsonpath","value":"$.steps.storage-1.value"}}},{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.storage-2.value"},"label":{"type":"string","value":"RPM Adherence Outbound - Rebuild"}}},{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.storage-4.value"},"label":{"type":"string","value":"CCM Intake Inbound (Rebuild)"}}},{"type":"object","value":{"label":{"type":"string","value":"RPM Rapport"},"value":{"type":"string","value":"{$.steps.storage-5.value}"}}},{"type":"object","value":{"label":{"type":"string","value":"CCM Intake - Outbound"},"value":{"type":"jsonpath","value":"$.steps.storage-6.value"}}}]}}},"branch-2":{"title":"Pathway Router","connector":{"name":"branch","version":"1.3"},"operation":"simple","output_schema":{},"error_handling":{},"properties":{"value":{"type":"jsonpath","value":"$.steps.trigger.body.pathway_id"},"branches":{"type":"array","value":[{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.storage-1.value"},"label":{"type":"string","value":"RPM Adherence"}}},{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.storage-2.value"},"label":{"type":"string","value":"RPM Adherence (Rebuild)"}}}]}}},"date-time-helpers-1":{"title":"Get current timestamp","connector":{"name":"date-time-helpers","version":"3.0"},"operation":"current_timestamp","output_schema":{},"error_handling":{},"properties":{"timezone":{"type":"string","value":"UTC"},"format":{"type":"object","value":{"existing_format":{"type":"string","value":"YYYY-MM-DDTHH:mm:ssZ"}}}}},"date-time-helpers-2":{"title":"Get current timestamp","connector":{"name":"date-time-helpers","version":"3.0"},"operation":"current_timestamp","output_schema":{},"error_handling":{},"properties":{"timezone":{"type":"string","value":"UTC"},"format":{"type":"object","value":{"existing_format":{"type":"string","value":"YYYY-MM-DDTHH:mm:ssZ"}}}}},"date-time-helpers-3":{"title":"Format Now Date","connector":{"name":"date-time-helpers","version":"3.0"},"operation":"format","output_schema":{},"error_handling":{},"properties":{"timezone":{"type":"string","value":"America/New_York"},"date":{"type":"jsonpath","value":"$.steps.trigger.body.variables.now"},"format":{"type":"object","value":{"custom_format":{"type":"string","value":"MM/DD/YYYY HH:mm:ss"}}}}},"file-helpers-3":{"title":"Download Call Audio File","connector":{"name":"file-helpers","version":"2.6"},"operation":"create_file","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"file":{"type":"object","properties":{"name":{"type":"string"},"url":{"type":"string"},"mime_type":{"type":"string"},"expires":{"type":"number"}}},"status_code":{"type":"number"},"headers":{"type":"object","properties":{"x-amz-request-id":{"type":"string"},"x-amz-id-2":{"type":"string"},"content-type":{"type":"string"},"transfer-encoding":{"type":"string"},"date":{"type":"string"},"server":{"type":"string"},"connection":{"type":"string"}}}}},"error_handling":{},"properties":{"url":{"type":"jsonpath","value":"$.steps.trigger.body.recording_url"},"name":{"type":"string","value":""}}},"http-client-1":{"title":"GET Storage Bucket","connector":{"name":"http-client","version":"5.6"},"operation":"get_request","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"status_code":{"type":"number"},"headers":{"type":"object","properties":{"access-control-allow-origin":{"type":"string"},"content-length":{"type":"string"},"content-type":{"type":"string"},"date":{"type":"string"},"via":{"type":"string"},"x-kong-proxy-latency":{"type":"string"},"x-kong-upstream-latency":{"type":"string"},"connection":{"type":"string"}}},"response":{"type":"object","properties":{"statusCode":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"}}},"message":{"type":"string"}}},"error_handling":{"strategy":"manual"},"authentication":{"group":"1e534822-3251-4e11-a759-bb36b1458d27","title":"dev-supabase-api-credentials","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"follow_redirect":{"type":"boolean","value":false},"follow_keep_method":{"type":"boolean","value":false},"reject_unauthorized":{"type":"boolean","value":true},"follow_authorization_header":{"type":"boolean","value":false},"parse_response":{"type":"string","value":"true"},"status_code":{"type":"object","value":{"range":{"type":"object","value":{"from":{"type":"integer","value":200},"to":{"type":"integer","value":299}}}}},"case_sensitive_headers":{"type":"boolean","value":false},"url":{"type":"jsonpath","value":"$.steps.text-helpers-1.result"},"headers":{"type":"array","value":[{"type":"object","value":{"key":{"type":"string","value":"apikey"},"value":{"type":"string","value":"{$.auth.apikey}"}}}]}}},"http-client-2":{"title":"Create Storage Bucket","connector":{"name":"http-client","version":"5.6"},"operation":"post_request","output_schema":{},"error_handling":{},"authentication":{"group":"1e534822-3251-4e11-a759-bb36b1458d27","title":"dev-supabase-api-credentials","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"auth":{"type":"object","value":{"none":{"type":"null","value":null}}},"follow_redirect":{"type":"boolean","value":false},"follow_keep_method":{"type":"boolean","value":false},"reject_unauthorized":{"type":"boolean","value":true},"follow_authorization_header":{"type":"boolean","value":false},"parse_response":{"type":"string","value":"true"},"status_code":{"type":"object","value":{"range":{"type":"object","value":{"from":{"type":"integer","value":200},"to":{"type":"integer","value":299}}}}},"case_sensitive_headers":{"type":"boolean","value":false},"url":{"type":"string","value":"{$.config.SUPABASE_URL}/storage/v1/bucket"},"headers":{"type":"array","value":[{"type":"object","value":{"key":{"type":"string","value":"apikey"},"value":{"type":"string","value":"{$.auth.apikey}"}}}]},"body":{"type":"object","value":{"raw":{"type":"object","value":{"name":{"type":"jsonpath","value":"$.steps.trigger.body.pathway_id"}}}}}}},"http-client-3":{"title":"GET Signed Upload URL","connector":{"name":"http-client","version":"5.6"},"operation":"post_request","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"response":{"type":"object","properties":{"status_code":{"type":"number"},"headers":{"type":"object","properties":{"access-control-allow-origin":{"type":"string"},"content-length":{"type":"string"},"content-type":{"type":"string"},"date":{"type":"string"},"via":{"type":"string"},"x-kong-proxy-latency":{"type":"string"},"x-kong-upstream-latency":{"type":"string"},"connection":{"type":"string"}}},"body":{"type":"object","properties":{"url":{"type":"string"},"token":{"type":"string"}}}}}}},"error_handling":{},"authentication":{"group":"1e534822-3251-4e11-a759-bb36b1458d27","title":"dev-supabase-api-credentials","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"auth":{"type":"object","value":{"none":{"type":"null","value":null}}},"follow_redirect":{"type":"boolean","value":false},"follow_keep_method":{"type":"boolean","value":false},"reject_unauthorized":{"type":"boolean","value":true},"follow_authorization_header":{"type":"boolean","value":false},"parse_response":{"type":"string","value":"true"},"status_code":{"type":"object","value":{"range":{"type":"object","value":{"from":{"type":"integer","value":200},"to":{"type":"integer","value":299}}}}},"case_sensitive_headers":{"type":"boolean","value":false},"url":{"type":"jsonpath","value":"$.steps.text-helpers-2.result"},"headers":{"type":"array","value":[{"type":"object","value":{"key":{"type":"string","value":"apikey"},"value":{"type":"string","value":"{$.auth.apikey}"}}}]}}},"http-client-5":{"title":"Upload File with Signed URL","connector":{"name":"http-client","version":"5.6"},"operation":"put_request","output_schema":{},"error_handling":{},"authentication":{"group":"1e534822-3251-4e11-a759-bb36b1458d27","title":"dev-supabase-api-credentials","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"auth":{"type":"object","value":{"none":{"type":"null","value":null}}},"follow_redirect":{"type":"boolean","value":false},"follow_keep_method":{"type":"boolean","value":false},"reject_unauthorized":{"type":"boolean","value":true},"follow_authorization_header":{"type":"boolean","value":false},"parse_response":{"type":"string","value":"true"},"status_code":{"type":"object","value":{"range":{"type":"object","value":{"from":{"type":"integer","value":200},"to":{"type":"integer","value":299}}}}},"case_sensitive_headers":{"type":"boolean","value":false},"url":{"type":"jsonpath","value":"$.steps.text-helpers-3.result"},"headers":{"type":"array","value":[{"type":"object","value":{"key":{"type":"string","value":"apikey"},"value":{"type":"string","value":"{$.auth.apikey}"}}},{"type":"object","value":{"key":{"type":"string","value":"Content-Type"},"value":{"type":"string","value":"audio/wav"}}}]},"body":{"type":"object","value":{"binary":{"type":"jsonpath","value":"$.steps.file-helpers-3.file"}}}}},"list-helpers-1":{"title":"Find Device Issues Citation","connector":{"name":"list-helpers","version":"3.1"},"operation":"find_object_in_list","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"null"}}},"error_handling":{},"properties":{"list":{"type":"jsonpath","value":"$.steps.trigger.body.citations","fallback":{"type":"array","value":[]}},"object_conditions":{"type":"array","value":[{"type":"object","value":{"key":{"type":"string","value":"variable_name"},"value":{"type":"string","value":"unresolvedDeviceIssues"}}}]}}},"object-helpers-2":{"title":"JSON parse error response","connector":{"name":"object-helpers","version":"4.1"},"operation":"json_parse","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"statusCode":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"}}}}},"error_handling":{},"properties":{"source":{"type":"string","value":"{$.errors.http-client-1.response}"}}},"postgresql-2":{"title":"Update Call Entry","connector":{"name":"postgresql","version":"2.2"},"operation":"execute_sql","output_schema":{},"error_handling":{},"authentication":{"group":"b7c8e801-f190-4514-876a-28de37d29b5b","title":"supabase-db-development","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/e8cbdd05-d792-44b8-85f7-994dbb7eb4e1.png"},"scopes":[],"service_name":"postgres","service_version":2},"properties":{"host":{"type":"jsonpath","value":"$.auth.host"},"port":{"type":"jsonpath","value":"$.auth.port"},"database":{"type":"jsonpath","value":"$.auth.database"},"schema":{"type":"jsonpath","value":"$.auth.schema"},"user":{"type":"jsonpath","value":"$.auth.user"},"password":{"type":"jsonpath","value":"$.auth.password"},"ssl":{"type":"jsonpath","value":"$.auth.ssl"},"ssl_config":{"type":"jsonpath","value":"$.auth.ssl_config"},"sql":{"type":"jsonpath","value":"$.steps.script-2.result"}}},"postgresql-3":{"title":"Update Call Entry With Error","connector":{"name":"postgresql","version":"2.2"},"operation":"update","output_schema":{},"error_handling":{},"authentication":{"group":"b7c8e801-f190-4514-876a-28de37d29b5b","title":"supabase-db-development","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/e8cbdd05-d792-44b8-85f7-994dbb7eb4e1.png"},"scopes":[],"service_name":"postgres","service_version":2},"properties":{"host":{"type":"jsonpath","value":"$.auth.host"},"port":{"type":"jsonpath","value":"$.auth.port"},"database":{"type":"jsonpath","value":"$.auth.database"},"schema":{"type":"jsonpath","value":"$.auth.schema"},"user":{"type":"jsonpath","value":"$.auth.user"},"password":{"type":"jsonpath","value":"$.auth.password"},"ssl":{"type":"jsonpath","value":"$.auth.ssl"},"ssl_config":{"type":"jsonpath","value":"$.auth.ssl_config"},"table":{"type":"string","value":"calls"},"conditions":{"type":"array","value":[{"type":"object","value":{"operator":{"type":"string","value":"equal to"},"field":{"type":"string","value":"call_request_id"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.call_request_id"}}}]},"data":{"type":"object","value":{"error_message":{"type":"jsonpath","value":"$.steps.trigger.body.error_message"},"bland_call_id":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"},"completed":{"type":"jsonpath","value":"$.steps.trigger.body.completed"},"status":{"type":"jsonpath","value":"$.steps.trigger.body.status"}}}}},"postgresql-4":{"title":"Update rows","connector":{"name":"postgresql","version":"2.2"},"operation":"update","output_schema":{},"error_handling":{},"authentication":{"group":"b7c8e801-f190-4514-876a-28de37d29b5b","title":"supabase-db-development","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/e8cbdd05-d792-44b8-85f7-994dbb7eb4e1.png"},"scopes":[],"service_name":"postgres","service_version":2},"properties":{"host":{"type":"jsonpath","value":"$.auth.host"},"port":{"type":"jsonpath","value":"$.auth.port"},"database":{"type":"jsonpath","value":"$.auth.database"},"schema":{"type":"jsonpath","value":"$.auth.schema"},"user":{"type":"jsonpath","value":"$.auth.user"},"password":{"type":"jsonpath","value":"$.auth.password"},"ssl":{"type":"jsonpath","value":"$.auth.ssl"},"ssl_config":{"type":"jsonpath","value":"$.auth.ssl_config"},"table":{"type":"string","value":"calls"},"conditions":{"type":"array","value":[{"type":"object","value":{"operator":{"type":"string","value":"equal to"},"field":{"type":"string","value":"call_request_id"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.call_request_id"}}}]},"data":{"type":"object","value":{"status":{"type":"jsonpath","value":"$.steps.trigger.body.status"},"bland_call_id":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"},"completed":{"type":"jsonpath","value":"$.steps.trigger.body.completed"}}}}},"postgresql-5":{"title":"Update Call Entry With Error","connector":{"name":"postgresql","version":"2.2"},"operation":"update","output_schema":{},"error_handling":{},"authentication":{"group":"b7c8e801-f190-4514-876a-28de37d29b5b","title":"supabase-db-development","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/e8cbdd05-d792-44b8-85f7-994dbb7eb4e1.png"},"scopes":[],"service_name":"postgres","service_version":2},"properties":{"host":{"type":"jsonpath","value":"$.auth.host"},"port":{"type":"jsonpath","value":"$.auth.port"},"database":{"type":"jsonpath","value":"$.auth.database"},"schema":{"type":"jsonpath","value":"$.auth.schema"},"user":{"type":"jsonpath","value":"$.auth.user"},"password":{"type":"jsonpath","value":"$.auth.password"},"ssl":{"type":"jsonpath","value":"$.auth.ssl"},"ssl_config":{"type":"jsonpath","value":"$.auth.ssl_config"},"table":{"type":"string","value":"calls"},"conditions":{"type":"array","value":[{"type":"object","value":{"operator":{"type":"string","value":"equal to"},"field":{"type":"string","value":"call_request_id"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.call_request_id"}}}]},"data":{"type":"object","value":{"error_message":{"type":"jsonpath","value":"$.steps.trigger.body.error_message"},"bland_call_id":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"},"completed":{"type":"jsonpath","value":"$.steps.trigger.body.completed"},"status":{"type":"jsonpath","value":"$.steps.trigger.body.status"}}}}},"script-1":{"title":"Is Voicemail Detected","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"result":{"type":"boolean"},"voicemail_detected":{"type":"boolean"},"emergency_detected":{"type":"boolean"},"transferred_to_nurse":{"type":"boolean"},"patient_requests_human":{"type":"boolean"},"patient_requests_dnc":{"type":"boolean"},"non_medical_hold_required":{"type":"null"},"first_question_answered":{"type":"null"}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"citations"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.citations"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function (input, fileInput) {\n\t// Extract variable values\n\tconst voicemail_detected = input.citations.find(obj => obj.variable_name === \"voicemail_detected\")?.value\n\tconst emergency_detected = input.citations.find(obj => obj.variable_name === \"emergency_detected\")?.value\n\tconst transferred_to_nurse = input.citations.find(obj => obj.variable_name === \"transferred_to_nurse\")?.value\n\tconst patient_requests_human = input.citations.find(obj => obj.variable_name === \"patient_requests_human\")?.value\n\tconst patient_requests_dnc = input.citations.find(obj => obj.variable_name === \"patient_requests_dnc\")?.value\n\tconst non_medical_hold_required = input.citations.find(obj => obj.variable_name === \"non_medical_hold_required\")?.value\n\tconst first_question_answered = input.citations.find(obj => obj.variable_name === \"first_question_answered\")?.value\n\n\tconst is_voicemail_detected =\n\t\tvoicemail_detected === true &&\n\t\temergency_detected === false &&\n\t\ttransferred_to_nurse === false &&\n\t\tpatient_requests_human === false &&\n\t\tpatient_requests_dnc === false &&\n\t\tnon_medical_hold_required === null &&\n\t\tfirst_question_answered === false\n\n\treturn {\n\t\tresult: is_voicemail_detected ? \"TRUE\" : \"FALSE\",\n\t\tvoicemail_detected,\n\t\temergency_detected,\n\t\ttransferred_to_nurse,\n\t\tpatient_requests_human,\n\t\tpatient_requests_dnc,\n\t\tnon_medical_hold_required,\n\t\tfirst_question_answered,\n\t};\n};"},"file_output":{"type":"boolean","value":false}}},"script-10":{"title":"Is Voicemail Detected","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"result":{"type":"boolean"},"voicemail_detected":{"type":"boolean"},"identity_verified":{"type":"boolean"},"voicemail_left":{"type":"boolean"},"call_end_reason":{"type":"string"},"call_completed_successfully":{"type":"boolean"}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"citations"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.citations"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\t// Extract variable values\n\tconst voicemail_detected = input.citations.find(obj => obj.variable_name === \"voicemail_detected\")?.value\n\tconst identity_verified = input.citations.find(obj => obj.variable_name === \"identity_verified\")?.value\n\tconst voicemail_left = input.citations.find(obj => obj.variable_name === \"voicemail_left\")?.value\n\tconst call_end_reason = input.citations.find(obj => obj.variable_name === \"call_end_reason\")?.value\n    const call_completed_successfully = input.citations.find(obj => obj.variable_name === \"call_completed_successfully\")?.value\n\t\n\tconst is_voicemail_detected = \n    voicemail_detected === true &&\n    identity_verified === false &&\n    voicemail_left === true &&\n    call_end_reason === \"voicemail\" &&\n    call_completed_successfully === false\n\n\treturn {\n\t\tresult: is_voicemail_detected,\n        voicemail_detected,\n        identity_verified,\n        voicemail_left,\n        call_end_reason,\n        call_completed_successfully,\n\t};\n};"},"file_output":{"type":"boolean","value":false}}},"script-2":{"title":"Build Query","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"string"},"console":{"type":"array","items":{}}}},"error_handling":{},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"request_body"},"value":{"type":"jsonpath","value":"$.steps.trigger.body"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\t// Helper function to safely format SQL values\n\tconst formatValue = (value) => {\n\t\tif (value === null || value === undefined) {\n\t\t\treturn 'NULL';\n\t\t}\n\t\tif (typeof value === 'string') {\n\t\t\treturn `'${value.replace(/'/g, \"''\")}'`; // Escape single quotes\n\t\t}\n\t\tif (typeof value === 'object') {\n\t\t\treturn `'${JSON.stringify(value).replace(/'/g, \"''\")}'`;\n\t\t}\n\t\treturn value; // Numbers, booleans\n\t};\n\n\tconst rb = input.request_body;\n\t\n\tconst query = `\n\t\tUPDATE calls\n\t\tSET started_at = ${formatValue(rb.started_at)},\n\t\t\t\tended_at = ${formatValue(rb.ended_at)},\n\t\t\t\tlength = ${formatValue(rb.call_length)},\n\t\t\t\tcompleted = ${formatValue(rb.completed)},\n\t\t\t\tcall_completion_json = ${formatValue(rb)},\n\t\t\t\tsummary = ${formatValue(rb.summary)},\n\t\t\t\tcost = ${formatValue(rb.price)},\n\t\t\t\tstatus = ${formatValue(rb.status)},\n\t\t\t\tdisposition_tag = ${formatValue(rb.disposition_tag)},\n\t\t\t\tpathway_id = ${formatValue(rb.pathway_id)},\n\t\t\t\tcorrected_duration = ${formatValue(rb.corrected_duration)},\n\t\t\t\tcaptured_data = ${formatValue(rb.variables)},\n\t\t\t\trecorded = ${formatValue(rb.recorded)},\n\t\t\t\tinbound = ${formatValue(rb.inbound)},\n\t\t\t\tmetadata = ${formatValue(rb.metadata)},\n\t\t\t\tpathway_tags = ${formatValue(rb.pathway_tags)},\n\t\t\t\tended_by = ${formatValue(rb.ended_by)},\n\t\t\t\terror_message = ${formatValue(rb.error_message)},\n\t\t\t\tlocal_dialing = ${formatValue(rb.local_dialing)},\n\t\t\t\trecording_url = ${formatValue(rb.recording_url)},\n\t\t\t\ttransferred_to = ${formatValue(rb.transferred_to)},\n\t\t\t\trecording_expiration = ${formatValue(rb.recording_expiration)},\n\t\t\t\tconcatenated_transcript = ${formatValue(rb.concatenated_transcript)},\n\t\t\t\tbland_call_id = ${formatValue(rb.call_id)},\n\t\t\t\tbland_batch_id = ${formatValue(rb.batch_id)}\n\t\tWHERE call_request_id = ${formatValue(rb.metadata.call_request_id)};\n\t`;\n\t\n\treturn query;\n};"},"file_output":{"type":"boolean","value":false}}},"script-3":{"title":"Authenticate Request","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"valid":{"type":"boolean"},"errors":{"type":"array","items":{"type":"string"}}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"request_bearer_token"},"value":{"type":"jsonpath","value":"$.steps.trigger.headers.authorization"}}},{"type":"object","value":{"name":{"type":"string","value":"expected_bearer_token"},"value":{"type":"jsonpath","value":"$.auth.bearer_token"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n  const errors = [];\n\n  const headerValue = typeof input.request_bearer_token === 'string' ? input.request_bearer_token : '';\n\n  if (!headerValue) errors.push('Missing request_bearer_token');\n\n  let provided = '';\n  if (errors.length === 0) {\n    const trimmed = headerValue.trim();\n\n    provided = trimmed.split(' ')[1] || '';\n    if (!provided) errors.push('Empty bearer token');\n  }\n\n  const valid = errors.length === 0 && provided === input.expected_bearer_token;\n  if (!valid && errors.length === 0) errors.push('Invalid bearer token');\n\n  return { valid, errors };\n};"},"file_output":{"type":"boolean","value":false}}},"script-4":{"title":"Assessment Status","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"result":{"type":"string"},"voicemail_detected":{"type":"boolean"},"patient_date_of_birth":{"type":"null"},"first_question_answered":{"type":"null"},"partial_survey_complete":{"type":"null"}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"citations"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.citations"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\t// Extract variable values\n\tconst voicemail_detected = input.citations.find(obj => obj.variable_name === \"voicemail_detected\")?.value\n\tconst patient_date_of_birth = input.citations.find(obj => obj.variable_name === \"patient_date_of_birth\")?.value\n\tconst first_question_answered = input.citations.find(obj => obj.variable_name === \"first_question_answered\")?.value\n\tconst partial_survey_complete = input.citations.find(obj => obj.variable_name === \"partial_survey_complete\")?.value\n\t\n\tconst assessment_status = \n    voicemail_detected === false &&\n    patient_date_of_birth !== null &&\n    first_question_answered === true &&\n    partial_survey_complete === true\n\n\treturn {\n\t\tresult: assessment_status ? \"complete\" : \"incomplete\",\n        voicemail_detected,\n        patient_date_of_birth,\n        first_question_answered,\n        partial_survey_complete,\n\t};\n};"},"file_output":{"type":"boolean","value":false}}},"script-5":{"title":"Build PRVNT Patient URL","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"patient_id"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\treturn `https://nsight.prvnt.ai/patients/${input.patient_id}/overview`;\n};"},"file_output":{"type":"boolean","value":false}}},"script-6":{"title":"Assessment Status","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"result":{"type":"string"},"voicemail_detected":{"type":"boolean"},"patient_date_of_birth":{"type":"null"},"first_question_answered":{"type":"null"},"partial_survey_complete":{"type":"null"}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"citations"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.citations"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\t// Extract variable values\n\tconst voicemail_detected = input.citations.find(obj => obj.variable_name === \"voicemail_detected\")?.value\n\tconst patient_date_of_birth = input.citations.find(obj => obj.variable_name === \"patient_date_of_birth\")?.value\n\tconst first_question_answered = input.citations.find(obj => obj.variable_name === \"first_question_answered\")?.value\n\tconst partial_survey_complete = input.citations.find(obj => obj.variable_name === \"partial_survey_complete\")?.value\n\t\n\tconst assessment_status = \n    voicemail_detected === false &&\n    patient_date_of_birth !== null &&\n    first_question_answered === true &&\n    partial_survey_complete === true\n\n\treturn {\n\t\tresult: assessment_status ? \"complete\" : \"incomplete\",\n        voicemail_detected,\n        patient_date_of_birth,\n        first_question_answered,\n        partial_survey_complete,\n\t};\n};"},"file_output":{"type":"boolean","value":false}}},"script-8":{"title":"Assessment Status","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"result":{"type":"object","properties":{"result":{"type":"string"},"voicemail_detected":{"type":"boolean"},"patient_date_of_birth":{"type":"null"},"first_question_answered":{"type":"null"},"partial_survey_complete":{"type":"null"}}},"console":{"type":"array","items":{}}}},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"citations"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.citations"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\t// Extract variable values\n\tconst voicemail_detected = input.citations.find(obj => obj.variable_name === \"voicemail_detected\")?.value\n\tconst patient_date_of_birth = input.citations.find(obj => obj.variable_name === \"patient_date_of_birth\")?.value\n\tconst first_question_answered = input.citations.find(obj => obj.variable_name === \"first_question_answered\")?.value\n\tconst partial_survey_complete = input.citations.find(obj => obj.variable_name === \"partial_survey_complete\")?.value\n\t\n\tconst assessment_status = \n    voicemail_detected === false &&\n    patient_date_of_birth !== null &&\n    first_question_answered === \"TRUE\" &&\n    partial_survey_complete === \"TRUE\"\n\n\treturn {\n\t\tresult: assessment_status ? \"complete\" : \"incomplete\",\n        voicemail_detected,\n        patient_date_of_birth,\n        first_question_answered,\n        partial_survey_complete,\n\t};\n};"},"file_output":{"type":"boolean","value":false}}},"script-9":{"title":"Build PRVNT Patient URL","connector":{"name":"script","version":"3.4"},"operation":"execute","output_schema":{},"error_handling":{},"authentication":{"group":"1e583511-c36a-47ea-84f8-40b1a77e73aa","title":"Bland Webhook Bearer Token","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/3d517f8924ac7fd03699a29d97dc52d9.png"},"scopes":[],"service_name":"generic","service_version":1},"properties":{"variables":{"type":"array","value":[{"type":"object","value":{"name":{"type":"string","value":"patient_id"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}}]},"script":{"type":"string","value":"/** \n * @param {Input} input Value comes from the \"Variables\" field \n * @param {Array.<FileInput>} fileInput Value comes from the \"Files\" field \n */\nexports.step = function(input, fileInput) {\n\treturn `https://nsight.prvnt.ai/patients/${input.patient_id}/overview`;\n};"},"file_output":{"type":"boolean","value":false}}},"sheets-1":{"title":"Successful Readings Sheet","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Successful Readings"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-10":{"title":"Wrong Number","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Wrong number"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-11":{"title":"Survey Score < 6","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Survey Score < 6"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-12":{"title":"Wrong Number","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Wrong number"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-13":{"title":"Record Error Message","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.BLAND_CALL_ERRORS_SHEET_ID}"},"value_input_option":{"type":"string","value":"RAW"},"worksheet_name":{"type":"string","value":"RPM Adherence"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-2.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.pathway_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"}}}]}}},"sheets-14":{"title":"Data Team Report","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.CCM_OUTBOUND_DATA_REPORT_GSHEET_ID}"},"worksheet_name":{"type":"string","value":"Sheet1"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-3.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_length"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.script-1.result.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"E"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"}}}]}}},"sheets-15":{"title":"Create row","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.RPM_RAPPORT_G_SHEET_ID}"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-3.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_length"}}}]},"worksheet_name":{"type":"string","value":"Sheet1"}}},"sheets-16":{"title":"Save CCM Call Data","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.CCM_INTAKE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Sheet1"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.started_at"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_length"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.summary"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"E"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.concatenated_transcript"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"F"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}}]}}},"sheets-17":{"title":"Clinical Team Report","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.CCM_OUTBOUND_CLINICAL_REPORT_GSHEET_ID}"},"worksheet_name":{"type":"string","value":"outbound"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-3.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.script-5.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.concatenated_transcript"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.script-4.result.result"}}},{"type":"object","value":{"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"},"column_heading":{"type":"string","value":"E"}}}]}}},"sheets-18":{"title":"Clinical Team Report","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.CCM_OUTBOUND_CLINICAL_REPORT_GSHEET_ID}"},"worksheet_name":{"type":"string","value":"inbound"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-3.result","fallback":{"type":"null","value":null}}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.variables.date_of_birth","fallback":{"value":null,"type":"null"}}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.variables.first_name","fallback":{"type":"null","value":null}}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.variables.last_name","fallback":{"type":"null","value":null}}}},{"type":"object","value":{"value":{"type":"jsonpath","value":"$.steps.trigger.body.from","fallback":{"type":"null","value":null}},"column_heading":{"type":"string","value":"E"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"F"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.concatenated_transcript","fallback":{"type":"null","value":null}}}},{"type":"object","value":{"column_heading":{"type":"string","value":"G"},"value":{"type":"jsonpath","value":"$.steps.script-6.result.result","fallback":{"type":"null","value":null}}}},{"type":"object","value":{"column_heading":{"type":"string","value":"H"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_id","fallback":{"type":"null","value":null}}}}]}}},"sheets-19":{"title":"Clinical Team Report","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"value_input_option":{"type":"string","value":"RAW"},"spreadsheet_id":{"type":"string","value":"{$.config.CCM_OUTBOUND_CLINICAL_REPORT_GSHEET_ID}"},"worksheet_name":{"type":"string","value":"Sheet1"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-3.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.script-9.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.concatenated_transcript"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.script-8.result.result"}}},{"type":"object","value":{"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"},"column_heading":{"type":"string","value":"E"}}}]}}},"sheets-3":{"title":"Record Error Message","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.BLAND_CALL_ERRORS_SHEET_ID}"},"value_input_option":{"type":"string","value":"RAW"},"worksheet_name":{"type":"string","value":"RPM Adherence"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"jsonpath","value":"$.steps.date-time-helpers-1.result"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.pathway_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.metadata.patient_id"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"jsonpath","value":"$.steps.trigger.body.call_id"}}}]}}},"sheets-4":{"title":"Successfull Readings Sheet","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Successful Readings"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-5":{"title":"Device Issues (Unresolved)","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Device Issues (Unresolved)"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id or:''}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-6":{"title":"ReadingOutOfRange (Non-crit)","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Out-of-Range (Non-Critical)"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-7":{"title":"Device Issues (Unresolved)","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Device Issues (Unresolved)"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-8":{"title":"ReadingOutOfRange (Non-crit)","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Out-of-Range (Non-Critical)"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"sheets-9":{"title":"Survey Score < 6","connector":{"name":"sheets","version":"8.1"},"operation":"create_row","output_schema":{},"error_handling":{},"authentication":{"group":"219f8a7c-7a1c-4da5-bbf5-9eab769a507e","title":"Google Sheets Oauth Account","service_icon":{"icon_type":"url","value":"//s3.amazonaws.com/images.tray.io/artisan/icons/a894e6ff-8a08-4375-ac35-ab9b5d2bc849.png"},"scopes":["https://www.googleapis.com/auth/spreadsheets"],"service_name":"google-sheets","service_version":2},"properties":{"spreadsheet_id":{"type":"string","value":"{$.config.RPM_ADHERENCE_G_SHEET_ID}"},"worksheet_name":{"type":"string","value":"Survey Score < 6"},"value_input_option":{"type":"string","value":"RAW"},"data":{"type":"array","value":[{"type":"object","value":{"column_heading":{"type":"string","value":"A"},"value":{"type":"string","value":"{$.steps.trigger.body.metadata.patient_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"B"},"value":{"type":"string","value":"{$.steps.trigger.body.call_id}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"C"},"value":{"type":"string","value":"{$.steps.trigger.body.concatenated_transcript}"}}},{"type":"object","value":{"column_heading":{"type":"string","value":"D"},"value":{"type":"string","value":"{$.steps.trigger.body.variables.now}"}}}]}}},"storage-1":{"title":"RPM ADH Pathway ID","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"default_value":{"type":"string","value":"919bf278-eadf-4076-b23b-94653b15e601"},"key":{"type":"string","value":"rpm_adherence_pathway_id"}}},"storage-2":{"title":"RPM ADH Pathway ID (Rebuild)","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"default_value":{"type":"string","value":"39a51845-c340-4aef-8a42-0e48af8493c9"},"key":{"type":"string","value":"rpm_adherence_pathway_id_rebuild"}}},"storage-3":{"title":"CCM Intake Pathway ID","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"default_value":{"type":"string","value":"3e1f0775-29aa-46f0-80da-a1b629825334"},"key":{"type":"string","value":"ccm_intake_pathway_id"}}},"storage-4":{"title":"CCM Intake Pathway ID -Rebuild","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"default_value":{"type":"string","value":"05107793-9d4e-4b43-9ad4-d0314b9938af"},"key":{"type":"string","value":"ccm_intake_pathway_id_rebuild"}}},"storage-5":{"title":"RPM Rapport Pathway ID","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"default_value":{"type":"string","value":"b4d38abe-6d27-4e4b-9aa8-a1fd505a4a3e"},"key":{"type":"string","value":"rpm_rapport_pathway_id"}}},"storage-6":{"title":"CCM Intake Out Pathway ID","connector":{"name":"storage","version":"1.5"},"operation":"get","output_schema":{},"error_handling":{},"properties":{"scope":{"type":"string","value":"Current Run"},"key":{"type":"string","value":"ccm_intake_outbound_id"},"default_value":{"type":"string","value":"6c86fc08-58b7-4565-8b05-6b0797799360"}}},"terminate-1":{"title":"Terminate run","connector":{"name":"terminate","version":"1.1"},"operation":"terminate_run","output_schema":{},"error_handling":{},"properties":{}},"terminate-2":{"title":"Terminate run","connector":{"name":"terminate","version":"1.1"},"operation":"terminate_run","output_schema":{},"error_handling":{},"properties":{}},"terminate-3":{"title":"Supabase Request Failed","connector":{"name":"terminate","version":"1.1"},"operation":"fail_run","output_schema":{},"error_handling":{},"properties":{"message":{"type":"string","value":"Supabase Request Failed"}}},"terminate-4":{"title":"Terminate run","connector":{"name":"terminate","version":"1.1"},"operation":"terminate_run","output_schema":{},"error_handling":{},"properties":{}},"terminate-5":{"title":"Authorization Error","connector":{"name":"terminate","version":"1.1"},"operation":"fail_run","output_schema":{},"error_handling":{},"properties":{"message":{"type":"string","value":"401 Unauthorized"}}},"text-helpers-1":{"title":"Concatenate Storage URL","connector":{"name":"text-helpers","version":"3.0"},"operation":"concatenate","output_schema":{},"error_handling":{},"properties":{"separator":{"type":"string","value":""},"values":{"type":"array","value":[{"type":"string","value":"{$.config.SUPABASE_URL}/storage/v1/bucket/"},{"type":"jsonpath","value":"$.steps.trigger.body.pathway_id"}]}}},"text-helpers-2":{"title":"Build Signed Upload URL","connector":{"name":"text-helpers","version":"3.0"},"operation":"concatenate","output_schema":{},"error_handling":{},"properties":{"separator":{"type":"string","value":""},"values":{"type":"array","value":[{"type":"string","value":"{$.config.SUPABASE_URL}/storage/v1/object/upload/sign/"},{"type":"string","value":"{$.steps.trigger.body.pathway_id}/"},{"type":"jsonpath","value":"$.steps.trigger.body.call_id"}]}}},"text-helpers-3":{"title":"Build Upload URL","connector":{"name":"text-helpers","version":"3.0"},"operation":"concatenate","output_schema":{},"error_handling":{},"properties":{"separator":{"type":"string","value":""},"values":{"type":"array","value":[{"type":"string","value":"{$.config.SUPABASE_URL}/storage/v1"},{"type":"jsonpath","value":"$.steps.http-client-3.response.body.url"}]}}},"trigger":{"title":"Webhook","connector":{"name":"webhook","version":"2.3"},"operation":"fire_and_forget","output_schema":{"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"method":{"type":"string"},"path":{"type":"string"},"body":{"type":"object","properties":{"to":{"type":"string"},"sid":{"type":"string"},"c_id":{"type":"string"},"from":{"type":"string"},"price":{"type":"number"},"end_at":{"type":"string"},"record":{"type":"boolean"},"status":{"type":"string"},"call_id":{"type":"string"},"inbound":{"type":"boolean"},"summary":{"type":"string"},"analysis":{"type":"object","properties":{"zip":{"type":"string"},"city":{"type":"string"},"email":{"type":"null"},"state":{"type":"string"},"country":{"type":"string"},"hobbies":{"type":"array","items":{"type":"string"}},"user_id":{"type":"string"},"alcohol_use":{"type":"boolean"},"call_length":{"type":"number"},"clinic_name":{"type":"string"},"tobacco_use":{"type":"boolean"},"living_alone":{"type":"boolean"},"phone_number":{"type":"string"},"seatbelt_use":{"type":"boolean"},"date_of_birth":{"type":"string"},"mobility_aids":{"type":"boolean"},"memory_changes":{"type":"boolean"},"recent_vaccines":{"type":"object","properties":{"flu_shot":{"type":"boolean"},"pneumonia_vaccine":{"type":"boolean"},"tetanus_or_tdap_booster":{"type":"boolean"}}},"appointment_time":{"type":"null"},"patient_full_name":{"type":"string"},"recent_screenings":{"type":"object","properties":{"eye_exam":{"type":"boolean"},"cholesterol_test":{"type":"boolean"},"bone_density_screening":{"type":"boolean"}}},"falls_in_last_year":{"type":"boolean"},"number_of_children":{"type":"number"},"main_support_person":{"type":"string"},"prescription_misuse":{"type":"boolean"},"diagnosed_conditions":{"type":"array","items":{"type":"string"}},"regular_dentist_visits":{"type":"boolean"},"felt_lonely_or_isolated":{"type":"boolean"},"felt_nervous_or_anxious":{"type":"boolean"},"number_of_grandchildren":{"type":"number"},"felt_down_or_lost_interest":{"type":"boolean"},"recent_healthcare_providers":{"type":"array","items":{"type":"string"}},"user_wants_to_book_appointment":{"type":"boolean"},"living_will_or_advance_directives":{"type":"boolean"},"trusted_person_for_healthcare_decisions":{"type":"boolean"},"difficulty_managing_medications_or_finances":{"type":"boolean"},"family_history_of_serious_health_conditions":{"type":"boolean"},"need_help_with_transportation_healthcare_or_food":{"type":"boolean"}}},"batch_id":{"type":"null"},"metadata":{"type":"object","properties":{"call_request_id":{"type":"string"}}},"voice_id":{"type":"string"},"completed":{"type":"boolean"},"variables":{"type":"object","properties":{"to":{"type":"string"},"now":{"type":"string"},"zip":{"type":"string"},"city":{"type":"string"},"from":{"type":"string"},"state":{"type":"string"},"region":{"type":"string"},"call_id":{"type":"string"},"country":{"type":"string"},"now_utc":{"type":"string"},"user_id":{"type":"string"},"language":{"type":"string"},"short_to":{"type":"string"},"timezone":{"type":"string"},"last_name":{"type":"string"},"timestamp":{"type":"string"},"first_name":{"type":"string"},"short_from":{"type":"string"},"clinic_name":{"type":"string"},"phone_number":{"type":"string"},"date_of_birth":{"type":"string"},"placement_group":{"type":"string"}}},"created_at":{"type":"string"},"pathway_id":{"type":"string"},"start_time":{"type":"null"},"started_at":{"type":"string"},"updated_at":{"type":"string"},"answered_by":{"type":"null"},"call_length":{"type":"number"},"transcripts":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"text":{"type":"string"},"user":{"type":"string"},"created_at":{"type":"string"}},"required":["id","text","user","created_at"]}},"max_duration":{"type":"number"},"pathway_tags":{"type":"array","items":{"type":"string"}},"queue_status":{"type":"string"},"call_ended_by":{"type":"string"},"error_message":{"type":"null"},"local_dialing":{"type":"boolean"},"recording_url":{"type":"string"},"transferred_at":{"type":"null"},"transferred_to":{"type":"null"},"version_number":{"type":"null"},"analysis_schema":{"type":"object","properties":{}},"corrected_duration":{"type":"string"},"twilio_account_sid":{"type":"string"},"warm_transfer_call":{"type":"null"},"citation_schema_ids":{"type":"array","items":{"type":"string"}},"is_proxy_agent_call":{"type":"boolean"},"warm_transfer_calls":{"type":"null"},"recording_expiration":{"type":"null"},"pre_transfer_duration":{"type":"null"},"post_transfer_duration":{"type":"null"},"concatenated_transcript":{"type":"string"},"citations":{"type":"array","items":{"type":"object","properties":{"call_id":{"type":"string"},"variable_name":{"type":"string"},"variable_type":{"type":"string"},"value":{"type":["array","null","boolean","string"],"items":{"type":"string"}},"cited_utterances":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"idx":{"type":"number"},"start_time":{"type":"number"},"end_time":{"type":"number"},"confidence":{"type":"number"},"channel":{"type":"number"},"transcript":{"type":"string"},"speaker_id":{"type":"string"},"speaker_name":{"type":"string"},"speaker_description":{"type":"string"},"topics":{"type":"array","items":{}},"topics_meta":{"type":"null"},"utterance_type":{"type":"string"}},"required":["id","idx","start_time","end_time","confidence","channel","transcript","speaker_id","speaker_name","speaker_description","topics","topics_meta","utterance_type"]}},"schema_id":{"type":"string"}},"required":["call_id","variable_name","variable_type","value","cited_utterances","schema_id"]}},"corrected_transcript":{"type":"array","items":{"type":"object","properties":{"start":{"type":"number"},"end":{"type":"number"},"speaker":{"type":"number"},"speaker_label":{"type":"string"},"text":{"type":"string"},"confidence":{"type":"number"}},"required":["start","end","speaker","speaker_label","text","confidence"]}}}},"query":{"type":"object","properties":{}},"headers":{"type":"object","properties":{"x-forwarded-port":{"type":"string"},"accept":{"type":"string"},"sentry-trace":{"type":"string"},"user-agent":{"type":"string"},"content-length":{"type":"string"},"authorization":{"type":"string"},"remote-address":{"type":"string"},"x-amzn-trace-id":{"type":"string"},"content-type":{"type":"string"},"baggage":{"type":"string"},"accept-encoding":{"type":"string"},"x-forwarded-for":{"type":"string"},"x-forwarded-proto":{"type":"string"},"host":{"type":"string"}}}}},"error_handling":{},"properties":{}}},"legacy_error_handling":false,"dependencies":[{"id":"59bc80e3-7283-43cb-8443-54544833ee98","name":"Live Bland Webhook Alert"}]}],"projects":[{"id":"70d2d126-9bfb-43ce-9fcc-2bdf8275726b","version":"9.2","name":"Bland Post Call Webhook","config":{"0":{"started_at":"{$.steps.object-helpers-3.result[\"started_at\"]}","call_id":"{$.steps.object-helpers-3.result[\"call_id\"]}","inbound":"{$.steps.object-helpers-3.result[\"inbound\"]}"},"BLAND_CALL_ERRORS_SHEET_ID":"1YkisRI9q5K2zvjZVOXDPLThI06f4uWcyZap3rZDz4zw","BLAND_CALL_ERRORS_SHEET_NAME":"Sheet1","CCM_INTAKE_G_SHEET_ID":"1-aio1zAzCrl4sehQwsW0b3D1TH1-h-1EwaMMkjFExdA","CCM_INTAKE_G_SHEET_NAME":"CCM Intake Tray Webhook Testing","CCM_OUTBOUND_CLINICAL_REPORT_GSHEET_ID":"1xU8ZQk4lXUPfk7bbmW6TvPC3k6qOUZi4kaTi2ax1NHw","CCM_OUTBOUND_DATA_REPORT_GSHEET_ID":"1niqx4ScLKOIUy1WW9JAiPwkPKZ1stSIxeSzJIxNx-JQ","environment":"production","RPM_ADHERENCE_G_SHEET_ID":"16EIFo7A9GTW32giEmfKWohibvxML02ywccyxFeFMFoo","RPM_ADHERENCE_G_SHEET_NAME":"RPM Adherence Call Data Tray Testing","RPM_RAPPORT_G_SHEET_ID":"1oXgt-pQTTSt33MLt9arcKgmbvPKpWenphwO3FIjeOBo","RPM_RAPPORT_G_SHEET_NAME":"RPM Rapport Post Call Data Test","Sentry_Bland_Post_Call_Webhook":"https://1799e7d9055a56f7f2b79fabb9986149@o4509469414522880.ingest.us.sentry.io/4509922719301632","SUPABASE_URL":"https://jrfmbmlalrspqlxzfmrj.supabase.co","Test_Bland_Token":"1E53A5BB-A77A-450E-B175-58C50BAB0BE6","Use_Domo_Mock":true,"Verbose":false},"workflows":["59bc80e3-7283-43cb-8443-54544833ee98","6f23a985-89b1-45e9-8354-a4a860f670ee","f17aa6bb-4bdf-40ee-b155-fec2ce3ca1bb"],"dependencies":[{"id":"a9ab4bcf-21e1-44d8-a58b-84c5d9e3f2a0","name":"Global Sentry Logging"}],"installation_source_id":null,"installation_version_id":null,"installation_guide":null}]}